import{f as C,r as o,R as P,j as e,e as D,m as h,X as R,F as q,S as I,t as j,w as B,d as U,b as Q,x as M,P as J,p as V,z as W,B as G,C as H,c as X,o as Z,g as E,q as O,T as $}from"./main-Jb7canCu.js";import{D as K}from"./DischargeModal-CY5pOg1z.js";import{D as Y}from"./database-Cm-A8mMd.js";import"./arrow-right--UMFdfon.js";import"./check-BUxc0fWz.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],se=C("circle-check",ee);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],ae=C("layout-grid",te);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],re=C("list",le);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],z=C("ruler",oe);function ie({isOpen:a,onClose:f,onSuccess:p,fuelTypes:c=[],fuelSettings:l=[],tank:t=null}){const[u,y]=o.useState(!1),[r,g]=o.useState({name:"",fuel_type_id:"",capacity_liters:"",current_volume:"0",current_price:""});P.useEffect(()=>{if(a)if(t)g({id:t.id,name:t.name,fuel_type_id:t.fuel_type_id||"",capacity_liters:t.total_cap||t.capacity_liters,current_volume:t.current||t.current_volume,current_price:t.current_price||""});else{const n=c.length>0?c[0]:null;g({name:"",fuel_type_id:n?n.id:"",capacity_liters:"",current_volume:"0",current_price:n?n.price_per_liter||"0":""})}},[a,t,c]);const d=n=>{const{name:x,value:v}=n.target;let i={...r,[x]:v};if(x==="fuel_type_id"){const m=c.find(w=>String(w.id)===String(v));m&&(i.current_price=m.price_per_liter||"0")}g(i)},N=async n=>{n.preventDefault(),y(!0);const x=window.BASE_URL||"/PETRODIESEL2/public",v=t?`${x}/tanks/update`:`${x}/tanks/store`;try{const m=await(await fetch(v,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();m.success?(j.success(m.message),p()):j.error(m.message||"Ø­Ø¯Ø« Ø®Ø·Ø£ Ù…Ø§")}catch(i){console.error("Error saving tank:",i),j.error("ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…")}finally{y(!1)}};return e.jsx(D,{children:a&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",dir:"rtl",children:e.jsxs(h.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden border border-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100 bg-slate-50/50",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-navy-900 flex items-center gap-2",children:[e.jsx(Y,{className:"w-6 h-6 text-blue-600"}),t?"ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø®Ø²Ø§Ù†":"Ø¥Ø¶Ø§ÙØ© Ø®Ø²Ø§Ù† Ø¬Ø¯ÙŠØ¯"]}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:t?"ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙˆØ³Ø¹Ø© Ø§Ù„Ø®Ø²Ø§Ù†":"Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø®Ø²Ø§Ù† Ø§Ù„Ø¬Ø¯ÙŠØ¯ ÙˆØ§Ù„Ø³Ø¹Ø©"})]}),e.jsx("button",{onClick:f,className:"p-2 hover:bg-slate-200 rounded-lg text-slate-500 transition-colors",children:e.jsx(R,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:N,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Ø§Ø³Ù… Ø§Ù„Ø®Ø²Ø§Ù†"}),e.jsx("input",{type:"text",name:"name",required:!0,placeholder:"Ù…Ø«Ø§Ù„: Ø®Ø²Ø§Ù† Ø§Ù„Ø¯ÙŠØ²Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ",className:"w-full p-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all",value:r.name,onChange:d})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Ù†ÙˆØ¹ Ø§Ù„ÙˆÙ‚ÙˆØ¯"}),e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"absolute right-3 top-3.5 text-slate-400 w-5 h-5 pointer-events-none"}),e.jsxs("select",{name:"fuel_type_id",className:"w-full p-3 pr-10 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none appearance-none bg-white",value:r.fuel_type_id,onChange:d,required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„ÙˆÙ‚ÙˆØ¯"}),c.length>0?c.map(n=>e.jsx("option",{value:n.id,children:n.name},n.id)):e.jsx("option",{value:"",disabled:!0,children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù†ÙˆØ§Ø¹ ÙˆÙ‚ÙˆØ¯ Ù…Ø¹Ø±ÙØ© ÙÙŠ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Ø§Ù„Ø³Ø¹Ø© Ø§Ù„ÙƒÙ„ÙŠØ© (Ù„ØªØ±)"}),e.jsx("input",{type:"number",name:"capacity_liters",required:!0,min:"0",placeholder:"0",className:"w-full p-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none font-mono",value:r.capacity_liters,onChange:d})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ© (Ù„ØªØ±)"}),e.jsx("input",{type:"number",name:"current_volume",required:!0,min:"0",placeholder:"0",className:"w-full p-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none font-mono",value:r.current_volume,onChange:d})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù„ØªØ± (Ù…Ù† Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª)"}),e.jsx("input",{type:"number",name:"current_price",step:"0.01",readOnly:!0,placeholder:"0.00",className:"w-full p-3 rounded-xl border border-slate-200 bg-slate-100 text-slate-500 cursor-not-allowed outline-none font-mono",value:r.current_price,onChange:d})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx("button",{type:"button",onClick:f,className:"flex-1 p-3 rounded-xl font-bold text-slate-600 hover:bg-slate-100 transition-colors",children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx("button",{type:"submit",disabled:u,className:"flex-[2] p-3 rounded-xl font-bold text-white bg-blue-600 hover:bg-blue-700 transition-all shadow-lg shadow-blue-200 flex justify-center items-center gap-2 disabled:opacity-70",children:u?"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...":e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"w-5 h-5"}),t?"Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª":"Ø­ÙØ¸ Ø§Ù„Ø®Ø²Ø§Ù†"]})})]})]})]})})})}const ne=({isVisible:a,message:f,onComplete:p})=>{const[c,l]=o.useState([]);return o.useEffect(()=>{if(a){const t=Array.from({length:30},(y,r)=>({id:r,x:Math.random()*100-50,y:Math.random()*-100-50,rotation:Math.random()*360,scale:Math.random()*.5+.5,color:["#10b981","#3b82f6","#f59e0b","#ef4444","#8b5cf6"][Math.floor(Math.random()*5)]}));l(t);const u=setTimeout(()=>{p&&p()},3e3);return()=>clearTimeout(u)}},[a,p]),e.jsx(D,{children:a&&e.jsx(e.Fragment,{children:e.jsxs(h.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-[9999] flex items-center justify-center",children:[e.jsxs(h.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0,transition:{type:"spring",stiffness:260,damping:20}},exit:{scale:0,rotate:180,transition:{duration:.3}},className:"bg-white rounded-3xl shadow-2xl p-8 max-w-md mx-4 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 opacity-50"}),e.jsxs("div",{className:"relative z-10 text-center",children:[e.jsx(h.div,{initial:{scale:0},animate:{scale:[0,1.2,1],rotate:[0,10,-10,0]},transition:{delay:.2,duration:.6,times:[0,.6,.8,1]},className:"inline-block mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(h.div,{animate:{scale:[1,2,2],opacity:[.5,.3,0]},transition:{duration:1.5,repeat:1/0,ease:"easeOut"},className:"absolute inset-0 rounded-full bg-green-500"}),e.jsx(h.div,{animate:{scale:[1,1.8,1.8],opacity:[.5,.3,0]},transition:{duration:1.5,repeat:1/0,ease:"easeOut",delay:.3},className:"absolute inset-0 rounded-full bg-green-500"}),e.jsx(se,{className:"w-24 h-24 text-green-500 relative z-10",strokeWidth:2})]})}),e.jsx(h.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-3xl font-bold text-slate-800 mb-2",children:"Ù†Ø¬Ø­! ðŸŽ‰"}),e.jsx(h.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-lg text-slate-600",children:f||"ØªÙ…Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­"})]})]}),c.map(t=>e.jsx(h.div,{initial:{x:"50vw",y:"50vh",scale:0,rotate:0},animate:{x:`calc(50vw + ${t.x}vw)`,y:`calc(50vh + ${t.y}vh)`,scale:[0,t.scale,0],rotate:t.rotation,opacity:[0,1,0]},transition:{duration:1.5,ease:"easeOut",delay:Math.random()*.3},className:"absolute w-3 h-3 rounded-full",style:{backgroundColor:t.color}},t.id))]})})})},ce=({tank:a,isOpen:f,onClose:p,onSuccess:c})=>{const[l,t]=o.useState(""),[u,y]=o.useState(""),[r,g]=o.useState(0),[d,N]=o.useState(!1),[n,x]=o.useState(!1);o.useEffect(()=>{if(l&&a){const i=parseFloat(a.current_volume||a.current||0),w=(parseFloat(l)||0)-i;g(isNaN(w)?0:w)}else g(0)},[l,a]),o.useEffect(()=>{f||(t(""),y(""),g(0))},[f]);const v=async()=>{if(!l||parseFloat(l)<0){j.error("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„ÙØ¹Ù„ÙŠØ©");return}if(parseFloat(l)>parseFloat(a.capacity_liters)){j.error("Ø§Ù„ÙƒÙ…ÙŠØ© ØªØªØ¬Ø§ÙˆØ² Ø³Ø¹Ø© Ø§Ù„Ø®Ø²Ø§Ù†!");return}try{N(!0);const m=await(await fetch(`${window.BASE_URL}/calibrations/add`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tank_id:a.id,actual_quantity:parseFloat(l),notes:u})})).json();m.success?(x(!0),setTimeout(()=>{c&&c(),p()},3e3)):j.error(m.message||"ÙØ´Ù„ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ù…Ø¹Ø§ÙŠØ±Ø©")}catch(i){console.error(i),j.error("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„")}finally{N(!1)}};return a?e.jsxs(e.Fragment,{children:[e.jsx(B,{open:f,onClose:p,static:!0,children:e.jsxs("div",{className:"p-6 bg-white rounded-lg max-w-2xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Ù…Ø¹Ø§ÙŠØ±Ø© Ø§Ù„Ø®Ø²Ø§Ù†"}),e.jsx("p",{className:"text-slate-500 mt-1",children:a.name})]}),e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-blue-700 font-medium",children:"Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…"}),e.jsxs("span",{className:"text-2xl font-bold text-blue-900",children:[parseFloat(a.current_volume||a.current||0).toLocaleString("ar-SA")," Ù„ØªØ±"]})]}),e.jsxs("div",{className:"mt-2 text-xs text-blue-600",children:["Ø§Ù„Ø³Ø¹Ø©: ",parseFloat(a.capacity_liters||a.total_cap||0).toLocaleString("ar-SA")," Ù„ØªØ±"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„ÙØ¹Ù„ÙŠØ© Ø§Ù„Ù…Ù‚Ø§Ø³Ø© (Ù„ØªØ±) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",value:l,onChange:i=>t(i.target.value),placeholder:"Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ù‚Ø§Ø³Ø© ÙŠØ¯ÙˆÙŠØ§Ù‹",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg",disabled:d,autoFocus:!0})]}),e.jsx("div",{className:`mb-6 p-4 rounded-lg border-2 transition-all ${l&&r>0?"bg-green-50 border-green-300":l&&r<0?"bg-red-50 border-red-300":"bg-gray-50 border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Ø§Ù„ÙØ±Ù‚ (Ø§Ù„Ø¹Ø¬Ø²/Ø§Ù„Ø²ÙŠØ§Ø¯Ø©)"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-3xl font-bold ${l&&r>0?"text-green-700":l&&r<0?"text-red-700":"text-gray-700"}`,children:[r>0&&"+",r.toFixed(2)," Ù„ØªØ±"]}),e.jsx("div",{className:`text-sm mt-1 ${l&&r>0?"text-green-600":l&&r<0?"text-red-600":"text-gray-600"}`,children:l?r>0?"âœ“ Ø²ÙŠØ§Ø¯Ø©":r<0?"âœ— Ø¹Ø¬Ø²":"= Ù…ØªØ·Ø§Ø¨Ù‚":"Ø³ÙŠØ¸Ù‡Ø± Ø¨Ø¹Ø¯ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙƒÙ…ÙŠØ©"})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"}),e.jsx("textarea",{value:u,onChange:i=>y(i.target.value),placeholder:"Ø£ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø£Ùˆ ØªÙˆØ¶ÙŠØ­Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©...",rows:"3",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",disabled:d})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:p,disabled:d,className:"px-6 py-2 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsxs("button",{onClick:v,disabled:d||!l,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[d&&e.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Ø­ÙØ¸ Ø§Ù„Ù…Ø¹Ø§ÙŠØ±Ø©"]})]})]})}),e.jsx(ne,{isVisible:n,message:"ØªÙ…Øª Ø§Ù„Ù…Ø¹Ø§ÙŠØ±Ø© Ø¨Ù†Ø¬Ø§Ø­! ðŸŽŠ",onComplete:()=>x(!1)})]}):null};function be({tanks:a=[],suppliers:f=[],fuelSettings:p=[],fuelTypes:c=[]}){const[l,t]=o.useState(""),[u,y]=o.useState("grid"),[r,g]=o.useState(!1),[d,N]=o.useState(!1),[n,x]=o.useState(!1),[v,i]=o.useState(null),[m,w]=o.useState(null),k=()=>{N(!1),w(null),window.location.reload()},T=s=>{w(s),N(!0)},F=async s=>{if(!window.confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø®Ø²Ø§Ù†ØŸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡."))return;const b=window.BASE_URL||"/PETRODIESEL2/public";try{const _=await(await fetch(`${b}/tanks/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s})})).json();_.success?(j.success(_.message),window.location.reload()):j.error(_.message)}catch(S){console.error(S),j.error("ÙØ´Ù„ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø®Ø²Ø§Ù†")}},L=(a||[]).map(s=>{const b=Number(s.capacity_liters||0),S=Number(s.current_volume||0),_=b>0?S/b*100:0;return{id:s.id,name:s.name,product:s.product_type||"Fuel",fuel_type_id:s.fuel_type_id,total_cap:b,current:S,current_volume:S,capacity_liters:b,current_price:s.current_price,percentage:Math.min(100,Math.max(0,Number(_.toFixed(1)))),status:_<20?"Low Stock":"Active"}}).filter(s=>s.name.toLowerCase().includes(l.toLowerCase())||s.product.toLowerCase().includes(l.toLowerCase())),A=({tank:s})=>{let b="bg-blue-500";return s.product.includes("Diesel")&&(b="bg-amber-500"),s.product.includes("91")&&(b="bg-emerald-500"),s.product.includes("95")&&(b="bg-rose-500"),e.jsxs(h.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6 relative overflow-hidden group hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx(E,{size:"xs",color:s.status==="Low Stock"?"red":"slate",children:s.product}),e.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>{i(s),x(!0)},className:"p-1.5 text-slate-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg",title:"Ù…Ø¹Ø§ÙŠØ±Ø© Ø§Ù„Ø®Ø²Ø§Ù†",children:e.jsx(z,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>T(s),className:"p-1.5 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg",children:e.jsx(O,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>F(s.id),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg",children:e.jsx($,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsxs("div",{className:"relative w-24 h-36 bg-slate-100 rounded-xl border-4 border-slate-200 overflow-hidden mb-4 shadow-inner",children:[e.jsx(h.div,{className:`absolute bottom-0 left-0 w-full ${b} opacity-80`,initial:{height:0},animate:{height:`${s.percentage}%`},transition:{duration:1.5,ease:"easeOut"},children:e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-white/30"})}),e.jsx("div",{className:"absolute right-0 top-0 h-full w-full flex flex-col justify-between py-2 px-1 items-end pointer-events-none opacity-30",children:[...Array(5)].map((S,_)=>e.jsx("div",{className:"w-2 h-[1px] bg-slate-900"},_))})]}),e.jsx("h3",{className:"font-bold text-lg text-slate-800 text-center",children:s.name}),e.jsxs("div",{className:"text-2xl font-black text-slate-900 font-mono mt-1",dir:"ltr",children:[s.current.toLocaleString()," ",e.jsx("span",{className:"text-xs text-slate-400 font-sans font-medium",children:"L"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs border-t pt-4",children:[e.jsxs("div",{className:"text-center p-2 bg-slate-50 rounded-lg",children:[e.jsx("span",{className:"block text-slate-400 mb-1",children:"Ø§Ù„Ø³Ø¹Ø© Ø§Ù„ÙƒÙ„ÙŠØ©"}),e.jsx("span",{className:"font-mono font-bold text-slate-700",children:s.total_cap.toLocaleString()})]}),e.jsxs("div",{className:"text-center p-2 bg-slate-50 rounded-lg",children:[e.jsx("span",{className:"block text-slate-400 mb-1",children:"Ø§Ù„Ù†Ø³Ø¨Ø©"}),e.jsxs("span",{className:`font-mono font-bold ${s.percentage<20?"text-red-600":"text-emerald-600"}`,children:[s.percentage,"%"]})]})]})]})};return e.jsxs(h.div,{initial:{opacity:0},animate:{opacity:1},className:"p-6 max-w-[1800px] mx-auto space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx(U,{className:"text-3xl font-bold text-navy-900 font-cairo",children:"Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ÙˆØ§Ù„Ø®Ø²Ø§Ù†Ø§Øª"}),e.jsx(Q,{className:"text-slate-500",children:"Ù…Ø±Ø§Ù‚Ø¨Ø© Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„ÙˆÙ‚ÙˆØ¯ ÙˆØ­Ø§Ù„Ø© Ø§Ù„Ø®Ø²Ø§Ù†Ø§Øª ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{variant:"secondary",icon:J,className:"rounded-xl font-bold bg-emerald-500 hover:bg-emerald-600 text-white border-none shadow-lg shadow-emerald-200",onClick:()=>{w(null),N(!0)},children:"Ø¥Ø¶Ø§ÙØ© Ø®Ø²Ø§Ù†"}),e.jsx(M,{variant:"primary",icon:V,className:"rounded-xl font-bold bg-blue-600 hover:bg-blue-700 border-none text-white shadow-lg shadow-blue-200",onClick:()=>g(!0),children:"ØªÙØ±ÙŠØº Ø´Ø­Ù†Ø©"}),e.jsx(M,{variant:"secondary",icon:W,className:"rounded-xl font-bold",children:"ØªÙ‚Ø±ÙŠØ±"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"relative w-full md:max-w-md",children:[e.jsx(G,{className:"absolute right-3 top-3 text-slate-400 w-5 h-5"}),e.jsx(H,{placeholder:"Ø¨Ø­Ø« Ø¹Ù† Ø®Ø²Ø§Ù†...",className:"pl-4 pr-10 py-2 rounded-xl border-slate-200",value:l,onChange:s=>t(s.target.value)})]}),e.jsxs("div",{className:"flex gap-2 bg-slate-100 p-1 rounded-xl",children:[e.jsx("button",{onClick:()=>y("grid"),className:`p-2 rounded-lg transition-all ${u==="grid"?"bg-white shadow text-blue-600":"text-slate-500 hover:text-slate-700"}`,children:e.jsx(ae,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>y("list"),className:`p-2 rounded-lg transition-all ${u==="list"?"bg-white shadow text-blue-600":"text-slate-500 hover:text-slate-700"}`,children:e.jsx(re,{className:"w-5 h-5"})})]})]}),u==="grid"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[L.map(s=>e.jsx(A,{tank:s},s.id)),L.length===0&&e.jsx("div",{className:"col-span-full text-center py-20 text-slate-400",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø®Ø²Ø§Ù†Ø§Øª Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ù„Ø¨Ø­Ø«"})]}),u==="list"&&e.jsx(X,{className:"rounded-2xl shadow-lg ring-1 ring-slate-200 overflow-hidden p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-right",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 text-sm font-bold text-slate-600",children:"Ø§Ø³Ù… Ø§Ù„Ø®Ø²Ø§Ù†"}),e.jsx("th",{className:"p-4 text-sm font-bold text-slate-600",children:"Ø§Ù„Ù…Ù†ØªØ¬"}),e.jsx("th",{className:"p-4 text-sm font-bold text-slate-600 w-1/3",children:"Ø§Ù„Ù…Ø³ØªÙˆÙ‰"}),e.jsx("th",{className:"p-4 text-sm font-bold text-slate-600",children:"Ø§Ù„Ø³Ø¹Ø© (L)"}),e.jsx("th",{className:"p-4 text-sm font-bold text-slate-600",children:"Ø§Ù„Ø­Ø§Ù„ÙŠ (L)"}),e.jsx("th",{className:"p-4 text-sm font-bold text-slate-600 text-center",children:"Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:L.map(s=>e.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[e.jsxs("td",{className:"p-4 font-bold text-navy-900 flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx(Z,{className:"w-5 h-5 text-blue-500"})}),s.name]}),e.jsx("td",{className:"p-4",children:e.jsx(E,{size:"xs",color:"slate",children:s.product})}),e.jsxs("td",{className:"p-4 flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs font-bold w-10",children:[s.percentage,"%"]}),e.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${s.percentage}%`}})})]}),e.jsx("td",{className:"p-4 font-mono",children:s.total_cap.toLocaleString()}),e.jsx("td",{className:"p-4 font-mono font-bold",children:s.current.toLocaleString()}),e.jsx("td",{className:"p-4 text-center",children:e.jsxs("div",{className:"flex justify-center gap-2 md:opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>{i(s),x(!0)},className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg",title:"Ù…Ø¹Ø§ÙŠØ±Ø©",children:e.jsx(z,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>T(s),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:e.jsx(O,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>F(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:e.jsx($,{className:"w-4 h-4"})})]})})]},s.id))})]})})}),e.jsx(K,{isOpen:r,onClose:()=>g(!1),tanks:a,suppliers:f}),e.jsx(ie,{isOpen:d,onClose:()=>N(!1),onSuccess:k,fuelSettings:p,fuelTypes:c,tank:m}),e.jsx(ce,{isOpen:n,onClose:()=>x(!1),tank:v,onSuccess:k})]})}export{be as default};
