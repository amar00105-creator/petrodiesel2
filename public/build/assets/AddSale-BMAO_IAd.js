import{_ as H}from"./main-D8tG-o71.js";import{j as e,m as s,$ as L,T as G,a0 as z,f as w,Q as M,c as O,a1 as W,h as q,v as X,_ as Q,t as m}from"./ui-DtuMUTb1.js";import{r as x}from"./vendor-BdFMDtQB.js";function Y({pumps:k=[],safes:b=[],banks:D=[],customers:E=[],initialSale:n=null}){var F,S;const[a,i]=x.useState({sale_date:"",pump_id:"",counter_id:"",opening_reading:"",closing_reading:"",volume_sold:0,unit_price:0,total_amount:0,payment_method:"cash",account_type:"safe",account_id:"",customer_id:"",notes:""}),[d,h]=x.useState(null),[A,v]=x.useState(!1),[j,y]=x.useState(!1),[u,N]=x.useState("Loading..."),[_,g]=x.useState({show:!1,available:0}),[f,R]=x.useState({show:!1,invoice:"",amount:0});x.useEffect(()=>{H(async()=>{const{getServerDate:t}=await import("./serverTime-BwebbdQp.js");return{getServerDate:t}},[]).then(({getServerDate:t})=>{n||t().then(r=>{i(o=>({...o,sale_date:r}))})}),n&&n.invoice_number?N(n.invoice_number):fetch(`${window.BASE_URL||""}/sales/getNextInvoiceNumber`).then(t=>t.json()).then(t=>{t.success&&N(t.invoice_number)}).catch(t=>console.error("Failed to fetch invoice number",t)),b.length>0&&i(t=>({...t,account_id:b[0].id})),n&&(i(n),n.counter_id&&h({fuel_type:n.fuel_type||"Unknown",worker_name:n.worker_name||"Unknown",worker_id:n.worker_id,price:parseFloat(n.unit_price||0),current_reading:parseFloat(n.opening_reading||0)}))},[b,n]);const U=t=>{const r=t.target.value;i(o=>({...o,pump_id:r,counter_id:"",opening_reading:"",unit_price:0})),h(null)},$=async t=>{const r=t.target.value;if(i(o=>({...o,counter_id:r})),!!r){v(!0);try{const l=await(await fetch(`${window.BASE_URL||""}/sales/getCounterDetails?counter_id=${r}`)).json();l.success?(h({fuel_type:l.product_type,worker_name:l.worker_name,worker_id:l.worker_id,price:parseFloat(l.price),current_reading:parseFloat(l.current_reading),tank_name:l.tank_name,tank_volume:parseFloat(l.tank_volume||0)}),i(c=>({...c,unit_price:parseFloat(l.price),opening_reading:parseFloat(l.current_reading),worker_id:l.worker_id})),m.success("ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø¨Ù†Ø¬Ø§Ø­")):m.error("ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø¯Ø§Ø¯")}catch(o){console.error("API Error:",o),m.error("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„")}finally{v(!1)}}},I=t=>{const r=parseFloat(t.target.value)||0,o=parseFloat(a.opening_reading)||0;let l=0;r>=o&&(l=r-o);const c=l*a.unit_price;i(B=>({...B,closing_reading:t.target.value,volume_sold:l,total_amount:c}))},T=async t=>{if(t.preventDefault(),!a.counter_id||!a.closing_reading){m.error("Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©");return}if(parseFloat(a.closing_reading)<parseFloat(a.opening_reading)){m.error("Ø®Ø·Ø£: Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø£Ù‚Ù„ Ù…Ù† Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©!");return}if(d&&a.volume_sold>d.tank_volume){g({show:!0,available:d.tank_volume});return}y(!0);try{const r=new FormData;Object.keys(a).forEach(c=>{a[c]!==null&&a[c]!==void 0&&r.append(c,a[c])}),r.append("invoice_number",u);const l=await(await fetch(`${window.BASE_URL||""}/sales/store`,{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"},body:r})).json();l.success?R({show:!0,invoice:u,amount:a.total_amount}):m.error(l.message||"ÙØ´Ù„ Ø­ÙØ¸ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©")}catch(r){console.error("Submit Error:",r),m.error("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø­ÙØ¸")}finally{y(!1)}},C=t=>parseFloat(t||0).toLocaleString("en-US",{style:"currency",currency:"USD"}).replace("$","")+" SDG",p=t=>parseFloat(t||0).toLocaleString("en-US"),P=t=>{const r=(t||"").toLowerCase();return r.includes("diesel")||r.includes("Ø¯ÙŠØ²Ù„")?"bg-amber-100 text-amber-700 border-amber-200":r.includes("petrol")||r.includes("Ø¨Ù†Ø²ÙŠÙ†")?"bg-emerald-100 text-emerald-700 border-emerald-200":r.includes("gas")||r.includes("ØºØ§Ø²")?"bg-purple-100 text-purple-700 border-purple-200":"bg-blue-100 text-blue-700 border-blue-200"};return e.jsxs("div",{className:"min-h-screen bg-slate-50/50 dark:bg-[#0F172A] p-4",style:{direction:"rtl"},children:[e.jsxs("div",{className:"max-w-[1600px] mx-auto grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[e.jsx(s.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"lg:col-span-9",children:e.jsx("div",{className:"relative rounded-[20px] p-[1.5px] dark:bg-gradient-to-br dark:from-[#7e7e7e] dark:via-[#363636] dark:to-[#363636] bg-white/60 backdrop-blur-xl border border-white/40 shadow-2xl transition-all",children:e.jsxs("div",{className:"dark:bg-black/50 bg-transparent rounded-[18px] w-full p-6 overflow-hidden relative",children:[e.jsx("div",{className:"absolute -top-10 -left-10 w-32 h-32 bg-white/10 rounded-full blur-xl hidden dark:block pointer-events-none"}),e.jsxs("div",{className:"flex justify-between items-center mb-8 relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white shadow-lg shadow-blue-500/20",children:e.jsx(L,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-slate-800 dark:text-white leading-none",children:"ØªØ³Ø¬ÙŠÙ„ Ù…Ø¨ÙŠØ¹Ø§Øª"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("span",{className:"text-xs font-mono text-slate-500 dark:text-slate-400",children:["#",u]}),e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"})]})]})]}),e.jsx("input",{type:"date",value:a.sale_date,onChange:t=>i(r=>({...r,sale_date:t.target.value})),className:"bg-white/50 dark:bg-white/5 border border-slate-200 dark:border-white/10 text-slate-600 dark:text-slate-300 text-sm font-bold rounded-xl px-3 py-1.5 outline-none focus:ring-2 focus:ring-blue-500/50 transition-all cursor-pointer hover:bg-white dark:hover:bg-white/10"})]}),e.jsxs("div",{className:"space-y-6 relative z-10",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 rounded-xl bg-slate-50/50 dark:bg-white/5 border border-slate-100 dark:border-white/5",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"text-[11px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-2 block",children:"Ø§Ù„Ù…Ø§ÙƒÙŠÙ†Ø© (Pump)"}),e.jsxs("select",{value:a.pump_id,onChange:U,className:"w-full bg-white dark:bg-transparent border border-slate-200 dark:border-none dark:border-b dark:border-white/10 rounded-xl dark:rounded-none px-4 py-3 text-slate-700 dark:text-white font-bold outline-none focus:ring-2 focus:ring-blue-500/20 dark:focus:ring-0 dark:focus:border-white/30 transition-all appearance-none",children:[e.jsx("option",{value:"",className:"text-slate-500 bg-white dark:bg-slate-800",children:"Ø§Ø®ØªØ± Ø§Ù„Ù…Ø§ÙƒÙŠÙ†Ø©..."}),k.map(t=>e.jsxs("option",{value:t.id,className:"text-slate-800 bg-white dark:bg-slate-800",children:[t.name," - ",t.product_name||"ÙˆÙ‚ÙˆØ¯"]},t.id))]}),e.jsx("div",{className:"absolute left-3 top-[38px] pointer-events-none opacity-50",children:e.jsx(G,{className:"w-4 h-4 text-slate-500 dark:text-white"})})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("label",{className:"text-[11px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-2 block",children:"Ø§Ù„Ø¹Ø¯Ø§Ø¯ (Counter)"}),e.jsxs("select",{value:a.counter_id,onChange:$,disabled:!a.pump_id,className:"w-full bg-white dark:bg-transparent border border-slate-200 dark:border-none dark:border-b dark:border-white/10 rounded-xl dark:rounded-none px-4 py-3 text-slate-700 dark:text-white font-bold outline-none focus:ring-2 focus:ring-blue-500/20 dark:focus:ring-0 dark:focus:border-white/30 transition-all appearance-none disabled:opacity-50",children:[e.jsx("option",{value:"",className:"bg-white dark:bg-slate-800 py-2",children:"Ø§Ø®ØªØ± Ø§Ù„Ø¹Ø¯Ø§Ø¯..."}),(S=(F=k.find(t=>t.id==a.pump_id))==null?void 0:F.counters)==null?void 0:S.map(t=>e.jsx("option",{value:t.id,className:"bg-white dark:bg-slate-800",children:t.name},t.id))]}),e.jsx("div",{className:"absolute left-3 top-[38px] pointer-events-none opacity-50",children:A?e.jsx(z,{className:"w-4 h-4 animate-spin text-blue-500"}):e.jsx(L,{className:"w-4 h-4 text-slate-500 dark:text-white"})})]})]}),e.jsx(w,{children:d&&e.jsx(s.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-3 p-2",children:[e.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-lg border ${P(d.fuel_type)}`,children:[e.jsx(M,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"text-xs font-bold",children:d.fuel_type})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-slate-100 dark:bg-white/10 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-white/5",children:[e.jsx(O,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"text-xs font-bold",children:d.worker_name})]}),d.tank_name&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-blue-50 dark:bg-blue-500/20 text-blue-600 dark:text-blue-300 border border-blue-100 dark:border-blue-500/30",children:[e.jsx(W,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"text-xs font-bold",children:d.tank_name}),e.jsxs("span",{className:"text-[10px] font-mono bg-blue-100 dark:bg-blue-400/30 px-1.5 py-0.5 rounded",children:[parseFloat(d.tank_volume).toLocaleString()," L"]})]}),e.jsxs("div",{className:"mr-auto flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Ø§Ù„Ø³Ø¹Ø±:"}),e.jsx("span",{className:"text-sm font-bold font-mono text-slate-800 dark:text-white",children:C(a.unit_price)})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"text-[11px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-2 block",children:"Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©"}),e.jsx("div",{className:"w-full bg-slate-50 dark:bg-transparent border border-slate-200 dark:border-none dark:border-b dark:border-white/10 rounded-xl dark:rounded-none px-4 py-4 text-slate-500 dark:text-slate-400 font-mono text-lg font-bold",children:p(a.opening_reading)||"---"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"text-[11px] font-bold text-emerald-600 dark:text-emerald-400 uppercase tracking-wider mb-2 block",children:"Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©"}),e.jsx("input",{type:"number",value:a.closing_reading,onChange:I,disabled:!d,className:`
                                                w-full bg-white dark:bg-transparent text-slate-800 dark:text-white font-mono text-xl font-black 
                                                border border-slate-200 dark:border-none dark:border-b dark:border-white/10 
                                                rounded-xl dark:rounded-none px-4 py-3 outline-none 
                                                focus:ring-2 focus:ring-emerald-500/20 dark:focus:ring-0 dark:focus:border-emerald-500/50 
                                                transition-all placeholder:text-slate-300 dark:placeholder:text-white/20
                                            `,placeholder:"000000"}),e.jsx("div",{className:"absolute left-0 bottom-4 text-xs text-slate-400 dark:text-slate-500 font-bold px-3 pointer-events-none",children:"Ù„ØªØ±"})]})]}),e.jsx("div",{className:"pt-4 border-t border-slate-100 dark:border-white/10",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[11px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-2 block",children:"Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹"}),e.jsxs("div",{className:"flex bg-slate-100 dark:bg-white/5 p-1 rounded-xl",children:[e.jsx("button",{onClick:()=>i(t=>({...t,payment_method:"cash"})),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${a.payment_method==="cash"?"bg-white dark:bg-white/10 text-emerald-600 dark:text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:"Ù†Ù‚Ø¯ÙŠ"}),e.jsx("button",{onClick:()=>i(t=>({...t,payment_method:"credit"})),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${a.payment_method==="credit"?"bg-white dark:bg-white/10 text-amber-600 dark:text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700"}`,children:"Ø¢Ø¬Ù„"})]})]}),e.jsx("div",{className:"md:col-span-2",children:a.payment_method==="cash"?e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"w-1/3",children:[e.jsx("label",{className:"text-[11px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-2 block",children:"Ø§Ù„Ø­Ø³Ø§Ø¨"}),e.jsxs("select",{value:a.account_type,onChange:t=>i(r=>({...r,account_type:t.target.value,account_id:""})),className:"w-full bg-white dark:bg-transparent border border-slate-200 dark:border-none dark:border-b dark:border-white/10 rounded-xl dark:rounded-none px-3 py-2.5 text-sm font-bold text-slate-700 dark:text-white outline-none",children:[e.jsx("option",{value:"safe",className:"bg-white dark:bg-slate-800",children:"Ø®Ø²Ù†Ø©"}),e.jsx("option",{value:"bank",className:"bg-white dark:bg-slate-800",children:"Ø¨Ù†Ùƒ"})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-[11px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-2 block",children:"ÙˆØ¬Ù‡Ø© Ø§Ù„Ø§ÙŠØ¯Ø§Ø¹"}),e.jsxs("select",{value:a.account_id,onChange:t=>i(r=>({...r,account_id:t.target.value})),className:"w-full bg-white dark:bg-transparent border border-slate-200 dark:border-none dark:border-b dark:border-white/10 rounded-xl dark:rounded-none px-3 py-2.5 text-sm font-bold text-slate-700 dark:text-white outline-none",children:[e.jsx("option",{value:"",className:"bg-white dark:bg-slate-800",children:"Ø§Ø®ØªØ±..."}),a.account_type==="safe"?b.map(t=>e.jsx("option",{value:t.id,className:"bg-white dark:bg-slate-800",children:t.name},t.id)):D.map(t=>e.jsxs("option",{value:t.id,className:"bg-white dark:bg-slate-800",children:[t.bank_name," - ",t.account_number]},t.id))]})]})]}):e.jsxs("div",{children:[e.jsx("label",{className:"text-[11px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-2 block",children:"Ø§Ù„Ø¹Ù…ÙŠÙ„"}),e.jsxs("select",{value:a.customer_id,onChange:t=>i(r=>({...r,customer_id:t.target.value})),className:"w-full bg-white dark:bg-transparent border border-slate-200 dark:border-none dark:border-b dark:border-white/10 rounded-xl dark:rounded-none px-4 py-3 text-sm font-bold text-slate-700 dark:text-white outline-none",children:[e.jsx("option",{value:"",className:"bg-white dark:bg-slate-800",children:"Ø§Ø®ØªØ± Ø§Ù„Ø¹Ù…ÙŠÙ„..."}),E.map(t=>e.jsxs("option",{value:t.id,className:"bg-white dark:bg-slate-800",children:[t.name," - Ø±ØµÙŠØ¯: ",C(t.balance)]},t.id))]})]})})]})}),e.jsx("div",{className:"pt-6 flex justify-end",children:e.jsxs(s.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:T,disabled:j||!a.closing_reading,className:`
                                            px-8 py-3 rounded-xl font-bold text-white shadow-lg flex items-center gap-2 transition-all
                                            disabled:opacity-50 disabled:cursor-not-allowed
                                            bg-gradient-to-br from-blue-600 to-indigo-700 hover:from-blue-500 hover:to-indigo-600
                                            dark:from-[#292929] dark:via-[#555555] dark:to-[#292929] dark:shadow-inner dark:border-none
                                        `,style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,0.2)"},children:[j?e.jsx(z,{className:"w-5 h-5 animate-spin"}):e.jsx(q,{className:"w-5 h-5"}),"Ø­ÙØ¸ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©"]})})]})]})})}),e.jsx(s.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"lg:col-span-3 lg:sticky lg:top-6",children:e.jsxs("div",{className:"bg-white/60 dark:bg-gradient-to-br dark:from-indigo-900/40 dark:to-purple-900/40 backdrop-blur-xl rounded-2xl shadow-xl border border-white/40 dark:border-white/10 p-6 relative overflow-hidden min-h-[400px] flex flex-col",children:[e.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-indigo-500/10 rounded-full blur-3xl pointer-events-none"}),e.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-500 dark:text-indigo-200 uppercase tracking-widest mb-6 border-b border-slate-200 dark:border-white/10 pb-4",children:"Ù…Ù„Ø®Øµ Ø§Ù„ÙØ§ØªÙˆØ±Ø©"}),e.jsxs("div",{className:"flex-1 space-y-6",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-slate-400 dark:text-indigo-300 block mb-1",children:"Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ø¨Ø§Ø¹Ø©"}),e.jsxs("div",{className:"text-3xl font-black font-mono text-slate-800 dark:text-white flex items-baseline gap-1",children:[p(a.volume_sold),e.jsx("span",{className:"text-sm text-slate-400 font-bold",children:"L"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm text-slate-600 dark:text-indigo-100",children:[e.jsx("span",{children:"Ø³Ø¹Ø± Ø§Ù„ÙˆØ­Ø¯Ø©"}),e.jsx("span",{className:"font-mono font-bold",children:p(a.unit_price)})]}),e.jsxs("div",{className:"flex justify-between text-sm text-slate-600 dark:text-indigo-100",children:[e.jsx("span",{children:"Ø¹Ø¯Ø¯ Ø§Ù„ÙˆØ­Ø¯Ø§Øª"}),e.jsx("span",{className:"font-mono font-bold",children:a.volume_sold})]})]})]}),e.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-200 dark:border-white/10",children:[e.jsx("span",{className:"text-xs text-slate-400 dark:text-indigo-300 block mb-1",children:"Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ"}),e.jsx("div",{className:"text-4xl font-black font-mono text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-white dark:to-indigo-100",children:p(a.total_amount)}),e.jsx("div",{className:"text-xs font-bold text-slate-400 mt-2 text-right",children:"SDG"})]})]})]})})]}),e.jsx(w,{children:_.show&&e.jsxs(e.Fragment,{children:[e.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>g({show:!1,available:0}),className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50"}),e.jsx(s.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:e.jsx("div",{className:"bg-gradient-to-br from-amber-500/20 to-orange-600/20 backdrop-blur-xl rounded-3xl p-[2px] shadow-2xl shadow-amber-500/20 pointer-events-auto max-w-md w-full",children:e.jsxs("div",{className:"bg-slate-900/90 rounded-3xl p-8 text-center relative overflow-hidden",children:[e.jsx(s.div,{animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{repeat:1/0,duration:2},className:"absolute inset-0 bg-gradient-radial from-amber-500/20 to-transparent pointer-events-none"}),e.jsx(s.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",delay:.1,damping:10},className:"relative z-10 mx-auto w-20 h-20 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full flex items-center justify-center mb-6 shadow-lg shadow-amber-500/50",children:e.jsx(s.div,{animate:{scale:[1,1.1,1]},transition:{repeat:1/0,duration:1.5},children:e.jsx(X,{className:"w-10 h-10 text-white"})})}),e.jsx(s.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"relative z-10 text-2xl font-black text-white mb-3",children:"Ø§Ù„ÙƒÙ…ÙŠØ© ØºÙŠØ± ÙƒØ§ÙÙŠØ©!"}),e.jsx(s.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"relative z-10 text-slate-300 mb-6 text-lg",children:"Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù…ØªØ§Ø­ ÙÙŠ Ø§Ù„Ø®Ø²Ø§Ù† ØºÙŠØ± ÙƒØ§ÙÙ Ù„Ø¥ØªÙ…Ø§Ù… Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©"}),e.jsxs(s.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4},className:"relative z-10 bg-gradient-to-r from-amber-500/20 to-orange-500/20 rounded-2xl p-4 mb-6 border border-amber-500/30",children:[e.jsx("div",{className:"text-sm text-amber-300 mb-1",children:"Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…ØªØ§Ø­Ø©"}),e.jsx("div",{className:"text-4xl font-black font-mono text-transparent bg-clip-text bg-gradient-to-r from-amber-400 to-orange-400",children:_.available.toLocaleString()}),e.jsx("div",{className:"text-amber-400 text-sm font-bold mt-1",children:"Ù„ØªØ± ÙÙ‚Ø·"})]}),e.jsx(s.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>g({show:!1,available:0}),className:"relative z-10 px-8 py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white font-bold rounded-xl shadow-lg shadow-amber-500/30 hover:shadow-amber-500/50 transition-all",children:"Ø­Ø³Ù†Ø§Ù‹ØŒ ÙÙ‡Ù…Øª"})]})})})]})}),e.jsx(w,{children:f.show&&e.jsxs(e.Fragment,{children:[e.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50"}),e.jsx(s.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:e.jsx("div",{className:"bg-gradient-to-br from-emerald-500/20 to-green-600/20 backdrop-blur-xl rounded-3xl p-[2px] shadow-2xl shadow-emerald-500/20 pointer-events-auto max-w-md w-full",children:e.jsxs("div",{className:"bg-slate-900/90 rounded-3xl p-8 text-center relative overflow-hidden",children:[e.jsx(s.div,{animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{repeat:1/0,duration:2},className:"absolute inset-0 bg-gradient-radial from-emerald-500/20 to-transparent pointer-events-none"}),e.jsx(s.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",delay:.1,damping:10},className:"relative z-10 mx-auto w-20 h-20 bg-gradient-to-br from-emerald-400 to-green-500 rounded-full flex items-center justify-center mb-6 shadow-lg shadow-emerald-500/50",children:e.jsx(s.div,{initial:{pathLength:0},animate:{pathLength:1},transition:{delay:.3,duration:.5},children:e.jsx(Q,{className:"w-10 h-10 text-white"})})}),e.jsx(s.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"relative z-10 text-2xl font-black text-white mb-3",children:"ØªÙ… Ø§Ù„Ø­ÙØ¸ Ø¨Ù†Ø¬Ø§Ø­! ðŸŽ‰"}),e.jsxs(s.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"relative z-10 text-slate-400 mb-4",children:["Ø±Ù‚Ù… Ø§Ù„ÙØ§ØªÙˆØ±Ø©: ",e.jsxs("span",{className:"font-mono font-bold text-white",children:["#",f.invoice]})]}),e.jsxs(s.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4},className:"relative z-10 bg-gradient-to-r from-emerald-500/20 to-green-500/20 rounded-2xl p-4 mb-6 border border-emerald-500/30",children:[e.jsx("div",{className:"text-sm text-emerald-300 mb-1",children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨Ù„Øº"}),e.jsx("div",{className:"text-4xl font-black font-mono text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-green-400",children:parseFloat(f.amount).toLocaleString()}),e.jsx("div",{className:"text-emerald-400 text-sm font-bold mt-1",children:"SDG"})]}),e.jsxs(s.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"relative z-10 flex gap-3 justify-center",children:[e.jsx(s.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.href=`${window.BASE_URL||""}/sales`,className:"px-6 py-3 bg-gradient-to-r from-emerald-500 to-green-500 text-white font-bold rounded-xl shadow-lg shadow-emerald-500/30 hover:shadow-emerald-500/50 transition-all",children:"Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª"}),e.jsx(s.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-3 bg-white/10 text-white font-bold rounded-xl border border-white/20 hover:bg-white/20 transition-all",children:"Ø¹Ù…Ù„ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©"})]})]})})})]})})]})}export{Y as default};
