import{j as e,f as z,m as h,a1 as I,X as G,F as U,i as B,t as N,a5 as Q,u as V,T as J,y as W,n as H,a6 as X,a7 as K,D as Y,a8 as O,p as M,o as A}from"./ui-Cx9d0ciQ.js";import{r as n,R as Z}from"./vendor-BdFMDtQB.js";import{n as k,b as ee,m as se,f as F,p as te,c as ae,g as $}from"./main-BJa5vRrN.js";import{D as le}from"./DischargeModal-BVkmFh1W.js";function re({isOpen:a,onClose:f,onSuccess:p,fuelTypes:c=[],fuelSettings:r=[],tank:t=null}){const[v,b]=n.useState(!1),[l,y]=n.useState({name:"",fuel_type_id:"",capacity_liters:"",current_volume:"0",current_price:""});Z.useEffect(()=>{if(a)if(t)y({id:t.id,name:t.name,fuel_type_id:t.fuel_type_id||"",capacity_liters:t.total_cap||t.capacity_liters,current_volume:t.current||t.current_volume,current_price:t.current_price||""});else{const i=c.length>0?c[0]:null;y({name:"",fuel_type_id:i?i.id:"",capacity_liters:"",current_volume:"0",current_price:i?i.price_per_liter||"0":""})}},[a,t,c]);const d=i=>{const{name:g,value:j}=i.target;let o={...l,[g]:j};if(g==="fuel_type_id"){const u=c.find(S=>String(S.id)===String(j));u&&(o.current_price=u.price_per_liter||"0")}y(o)},_=async i=>{i.preventDefault(),b(!0);const g=window.BASE_URL||"/PETRODIESEL2/public",j=t?`${g}/tanks/update`:`${g}/tanks/store`;try{const u=await(await fetch(j,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).json();u.success?(N.success(u.message),p()):N.error(u.message||"Ø­Ø¯Ø« Ø®Ø·Ø£ Ù…Ø§")}catch(o){console.error("Error saving tank:",o),N.error("ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…")}finally{b(!1)}};return e.jsx(z,{children:a&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",dir:"rtl",children:e.jsxs(h.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden border border-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100 bg-slate-50/50",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-navy-900 flex items-center gap-2",children:[e.jsx(I,{className:"w-6 h-6 text-blue-600"}),t?"ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø®Ø²Ø§Ù†":"Ø¥Ø¶Ø§ÙØ© Ø®Ø²Ø§Ù† Ø¬Ø¯ÙŠØ¯"]}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:t?"ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙˆØ³Ø¹Ø© Ø§Ù„Ø®Ø²Ø§Ù†":"Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø®Ø²Ø§Ù† Ø§Ù„Ø¬Ø¯ÙŠØ¯ ÙˆØ§Ù„Ø³Ø¹Ø©"})]}),e.jsx("button",{onClick:f,className:"p-2 hover:bg-slate-200 rounded-lg text-slate-500 transition-colors",children:e.jsx(G,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:_,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Ø§Ø³Ù… Ø§Ù„Ø®Ø²Ø§Ù†"}),e.jsx("input",{type:"text",name:"name",required:!0,placeholder:"Ù…Ø«Ø§Ù„: Ø®Ø²Ø§Ù† Ø§Ù„Ø¯ÙŠØ²Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ",className:"w-full p-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all",value:l.name,onChange:d})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Ù†ÙˆØ¹ Ø§Ù„ÙˆÙ‚ÙˆØ¯"}),e.jsxs("div",{className:"relative",children:[e.jsx(U,{className:"absolute right-3 top-3.5 text-slate-400 w-5 h-5 pointer-events-none"}),e.jsxs("select",{name:"fuel_type_id",className:"w-full p-3 pr-10 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none appearance-none bg-white",value:l.fuel_type_id,onChange:d,required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„ÙˆÙ‚ÙˆØ¯"}),c.length>0?c.map(i=>e.jsx("option",{value:i.id,children:i.name},i.id)):e.jsx("option",{value:"",disabled:!0,children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù†ÙˆØ§Ø¹ ÙˆÙ‚ÙˆØ¯ Ù…Ø¹Ø±ÙØ© ÙÙŠ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Ø§Ù„Ø³Ø¹Ø© Ø§Ù„ÙƒÙ„ÙŠØ© (Ù„ØªØ±)"}),e.jsx("input",{type:"number",name:"capacity_liters",required:!0,min:"0",placeholder:"0",className:"w-full p-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none font-mono",value:l.capacity_liters,onChange:d})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ© (Ù„ØªØ±)"}),e.jsx("input",{type:"number",name:"current_volume",required:!0,min:"0",placeholder:"0",className:"w-full p-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none font-mono",value:l.current_volume,onChange:d})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù„ØªØ± (Ù…Ù† Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª)"}),e.jsx("input",{type:"number",name:"current_price",step:"0.01",readOnly:!0,placeholder:"0.00",className:"w-full p-3 rounded-xl border border-slate-200 bg-slate-100 text-slate-500 cursor-not-allowed outline-none font-mono",value:l.current_price,onChange:d})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx("button",{type:"button",onClick:f,className:"flex-1 p-3 rounded-xl font-bold text-slate-600 hover:bg-slate-100 transition-colors",children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx("button",{type:"submit",disabled:v,className:"flex-[2] p-3 rounded-xl font-bold text-white bg-blue-600 hover:bg-blue-700 transition-all shadow-lg shadow-blue-200 flex justify-center items-center gap-2 disabled:opacity-70",children:v?"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...":e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"w-5 h-5"}),t?"Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª":"Ø­ÙØ¸ Ø§Ù„Ø®Ø²Ø§Ù†"]})})]})]})]})})})}const ie=({isVisible:a,message:f,onComplete:p})=>{const[c,r]=n.useState([]);return n.useEffect(()=>{if(a){const t=Array.from({length:30},(b,l)=>({id:l,x:Math.random()*100-50,y:Math.random()*-100-50,rotation:Math.random()*360,scale:Math.random()*.5+.5,color:["#10b981","#3b82f6","#f59e0b","#ef4444","#8b5cf6"][Math.floor(Math.random()*5)]}));r(t);const v=setTimeout(()=>{p&&p()},3e3);return()=>clearTimeout(v)}},[a,p]),e.jsx(z,{children:a&&e.jsx(e.Fragment,{children:e.jsxs(h.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-[9999] flex items-center justify-center",children:[e.jsxs(h.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0,transition:{type:"spring",stiffness:260,damping:20}},exit:{scale:0,rotate:180,transition:{duration:.3}},className:"bg-white rounded-3xl shadow-2xl p-8 max-w-md mx-4 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 opacity-50"}),e.jsxs("div",{className:"relative z-10 text-center",children:[e.jsx(h.div,{initial:{scale:0},animate:{scale:[0,1.2,1],rotate:[0,10,-10,0]},transition:{delay:.2,duration:.6,times:[0,.6,.8,1]},className:"inline-block mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(h.div,{animate:{scale:[1,2,2],opacity:[.5,.3,0]},transition:{duration:1.5,repeat:1/0,ease:"easeOut"},className:"absolute inset-0 rounded-full bg-green-500"}),e.jsx(h.div,{animate:{scale:[1,1.8,1.8],opacity:[.5,.3,0]},transition:{duration:1.5,repeat:1/0,ease:"easeOut",delay:.3},className:"absolute inset-0 rounded-full bg-green-500"}),e.jsx(Q,{className:"w-24 h-24 text-green-500 relative z-10",strokeWidth:2})]})}),e.jsx(h.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-3xl font-bold text-slate-800 mb-2",children:"Ù†Ø¬Ø­! ðŸŽ‰"}),e.jsx(h.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-lg text-slate-600",children:f||"ØªÙ…Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­"})]})]}),c.map(t=>e.jsx(h.div,{initial:{x:"50vw",y:"50vh",scale:0,rotate:0},animate:{x:`calc(50vw + ${t.x}vw)`,y:`calc(50vh + ${t.y}vh)`,scale:[0,t.scale,0],rotate:t.rotation,opacity:[0,1,0]},transition:{duration:1.5,ease:"easeOut",delay:Math.random()*.3},className:"absolute w-3 h-3 rounded-full",style:{backgroundColor:t.color}},t.id))]})})})},ne=({tank:a,isOpen:f,onClose:p,onSuccess:c})=>{const[r,t]=n.useState(""),[v,b]=n.useState(""),[l,y]=n.useState(0),[d,_]=n.useState(!1),[i,g]=n.useState(!1);n.useEffect(()=>{if(r&&a){const o=parseFloat(a.current_volume||a.current||0),S=(parseFloat(r)||0)-o;y(isNaN(S)?0:S)}else y(0)},[r,a]),n.useEffect(()=>{f||(t(""),b(""),y(0))},[f]);const j=async()=>{if(!r||parseFloat(r)<0){N.error("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„ÙØ¹Ù„ÙŠØ©");return}if(parseFloat(r)>parseFloat(a.capacity_liters)){N.error("Ø§Ù„ÙƒÙ…ÙŠØ© ØªØªØ¬Ø§ÙˆØ² Ø³Ø¹Ø© Ø§Ù„Ø®Ø²Ø§Ù†!");return}try{_(!0);const u=await(await fetch(`${window.BASE_URL}/calibrations/add`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tank_id:a.id,actual_quantity:parseFloat(r),notes:v})})).json();u.success?(g(!0),setTimeout(()=>{c&&c(),p()},3e3)):N.error(u.message||"ÙØ´Ù„ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ù…Ø¹Ø§ÙŠØ±Ø©")}catch(o){console.error(o),N.error("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„")}finally{_(!1)}};return a?e.jsxs(e.Fragment,{children:[e.jsx(k,{open:f,onClose:p,static:!0,children:e.jsxs("div",{className:"p-6 bg-white rounded-lg max-w-2xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Ù…Ø¹Ø§ÙŠØ±Ø© Ø§Ù„Ø®Ø²Ø§Ù†"}),e.jsx("p",{className:"text-slate-500 mt-1",children:a.name})]}),e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-blue-700 font-medium",children:"Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…"}),e.jsxs("span",{className:"text-2xl font-bold text-blue-900",children:[parseFloat(a.current_volume||a.current||0).toLocaleString("ar-SA")," Ù„ØªØ±"]})]}),e.jsxs("div",{className:"mt-2 text-xs text-blue-600",children:["Ø§Ù„Ø³Ø¹Ø©: ",parseFloat(a.capacity_liters||a.total_cap||0).toLocaleString("ar-SA")," Ù„ØªØ±"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„ÙØ¹Ù„ÙŠØ© Ø§Ù„Ù…Ù‚Ø§Ø³Ø© (Ù„ØªØ±) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",value:r,onChange:o=>t(o.target.value),placeholder:"Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ù‚Ø§Ø³Ø© ÙŠØ¯ÙˆÙŠØ§Ù‹",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg",disabled:d,autoFocus:!0})]}),e.jsx("div",{className:`mb-6 p-4 rounded-lg border-2 transition-all ${r&&l>0?"bg-green-50 border-green-300":r&&l<0?"bg-red-50 border-red-300":"bg-gray-50 border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Ø§Ù„ÙØ±Ù‚ (Ø§Ù„Ø¹Ø¬Ø²/Ø§Ù„Ø²ÙŠØ§Ø¯Ø©)"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-3xl font-bold ${r&&l>0?"text-green-700":r&&l<0?"text-red-700":"text-gray-700"}`,children:[l>0&&"+",l.toFixed(2)," Ù„ØªØ±"]}),e.jsx("div",{className:`text-sm mt-1 ${r&&l>0?"text-green-600":r&&l<0?"text-red-600":"text-gray-600"}`,children:r?l>0?"âœ“ Ø²ÙŠØ§Ø¯Ø©":l<0?"âœ— Ø¹Ø¬Ø²":"= Ù…ØªØ·Ø§Ø¨Ù‚":"Ø³ÙŠØ¸Ù‡Ø± Ø¨Ø¹Ø¯ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙƒÙ…ÙŠØ©"})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"}),e.jsx("textarea",{value:v,onChange:o=>b(o.target.value),placeholder:"Ø£ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø£Ùˆ ØªÙˆØ¶ÙŠØ­Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©...",rows:"3",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",disabled:d})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:p,disabled:d,className:"px-6 py-2 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsxs("button",{onClick:j,disabled:d||!r,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[d&&e.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Ø­ÙØ¸ Ø§Ù„Ù…Ø¹Ø§ÙŠØ±Ø©"]})]})]})}),e.jsx(ie,{isVisible:i,message:"ØªÙ…Øª Ø§Ù„Ù…Ø¹Ø§ÙŠØ±Ø© Ø¨Ù†Ø¬Ø§Ø­! ðŸŽŠ",onComplete:()=>g(!1)})]}):null};function ue({tanks:a=[],suppliers:f=[],fuelSettings:p=[],generalSettings:c={},fuelTypes:r=[]}){const[t,v]=n.useState(""),[b,l]=n.useState("grid"),[y,d]=n.useState(!1),[_,i]=n.useState(!1),[g,j]=n.useState(!1),[o,u]=n.useState(null),[S,C]=n.useState(null),D=()=>{i(!1),C(null),window.location.reload()},T=s=>{C(s),i(!0)},E=async s=>{if(!window.confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø®Ø²Ø§Ù†ØŸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡."))return;const x=window.BASE_URL||"/PETRODIESEL2/public";try{const w=await(await fetch(`${x}/tanks/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s})})).json();w.success?(N.success(w.message),window.location.reload()):N.error(w.message)}catch(m){console.error(m),N.error("ÙØ´Ù„ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø®Ø²Ø§Ù†")}},L=(a||[]).map(s=>{const x=Number(s.capacity_liters||0),m=Number(s.current_volume||0),w=x>0?m/x*100:0;return{id:s.id,name:s.name,product:s.product_type||"Fuel",fuel_type_id:s.fuel_type_id,total_cap:x,current:m,current_volume:m,capacity_liters:x,current_price:s.current_price,percentage:Math.min(100,Math.max(0,Number(w.toFixed(1)))),status:w<20?"Low Stock":"Active"}}).filter(s=>s.name.toLowerCase().includes(t.toLowerCase())||s.product.toLowerCase().includes(t.toLowerCase())),P=s=>{const x=c.volume_display_mode||"liters",m=s/4.5;return x==="gallons"?e.jsx("div",{className:"flex flex-col items-end",children:e.jsxs("span",{children:[m.toLocaleString(void 0,{maximumFractionDigits:1})," ",e.jsx("span",{className:"text-xs text-slate-400",children:"Gal"})]})}):x==="both"?e.jsxs("div",{className:"flex flex-col items-end text-right",children:[e.jsxs("span",{className:"text-sm text-emerald-600 font-bold",children:[m.toLocaleString(void 0,{maximumFractionDigits:1})," ",e.jsx("span",{className:"text-[10px]",children:"Gal"})]}),e.jsxs("span",{className:"text-[10px] text-slate-400",children:[s.toLocaleString()," L"]})]}):e.jsxs("span",{children:[s.toLocaleString()," ",e.jsx("span",{className:"text-xs text-slate-400",children:"L"})]})},R=({tank:s})=>{let x="bg-blue-500";s.product.includes("Diesel")&&(x="bg-amber-500"),s.product.includes("91")&&(x="bg-emerald-500"),s.product.includes("95")&&(x="bg-rose-500");const m=c.volume_display_mode||"liters";return e.jsxs(h.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6 relative overflow-hidden group hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx($,{size:"xs",color:s.status==="Low Stock"?"red":"slate",children:s.product}),e.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>{u(s),j(!0)},className:"p-1.5 text-slate-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg",title:"Ù…Ø¹Ø§ÙŠØ±Ø© Ø§Ù„Ø®Ø²Ø§Ù†",children:e.jsx(O,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>T(s),className:"p-1.5 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg",children:e.jsx(M,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>E(s.id),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg",children:e.jsx(A,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsxs("div",{className:"relative w-24 h-36 bg-slate-100 rounded-xl border-4 border-slate-200 overflow-hidden mb-4 shadow-inner",children:[e.jsx(h.div,{className:`absolute bottom-0 left-0 w-full ${x} opacity-80`,initial:{height:0},animate:{height:`${s.percentage}%`},transition:{duration:1.5,ease:"easeOut"},children:e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-white/30"})}),e.jsx("div",{className:"absolute right-0 top-0 h-full w-full flex flex-col justify-between py-2 px-1 items-end pointer-events-none opacity-30",children:[...Array(5)].map((w,q)=>e.jsx("div",{className:"w-2 h-[1px] bg-slate-900"},q))})]}),e.jsx("h3",{className:"font-bold text-lg text-slate-800 text-center",children:s.name}),e.jsxs("div",{className:"text-2xl font-black text-slate-900 font-mono mt-1 flex flex-col items-center",dir:"ltr",children:[m==="gallons"&&e.jsxs("span",{children:[(s.current/4.5).toLocaleString(void 0,{maximumFractionDigits:1})," ",e.jsx("span",{className:"text-xs text-slate-400 font-sans font-medium",children:"Gal"})]}),m==="liters"&&e.jsxs("span",{children:[s.current.toLocaleString()," ",e.jsx("span",{className:"text-xs text-slate-400 font-sans font-medium",children:"L"})]}),m==="both"&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-emerald-600 text-xl",children:[(s.current/4.5).toLocaleString(void 0,{maximumFractionDigits:1})," ",e.jsx("span",{className:"text-[10px] text-emerald-400 font-sans font-medium",children:"Gal"})]}),e.jsxs("span",{className:"text-sm text-slate-400",children:[s.current.toLocaleString()," L"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs border-t pt-4",children:[e.jsxs("div",{className:"text-center p-2 bg-slate-50 rounded-lg",children:[e.jsx("span",{className:"block text-slate-400 mb-1",children:"Ø§Ù„Ø³Ø¹Ø© Ø§Ù„ÙƒÙ„ÙŠØ©"}),e.jsx("span",{className:"font-mono font-bold text-slate-700",children:m==="gallons"?(s.total_cap/4.5).toLocaleString(void 0,{maximumFractionDigits:0}):s.total_cap.toLocaleString()})]}),e.jsxs("div",{className:"text-center p-2 bg-slate-50 rounded-lg",children:[e.jsx("span",{className:"block text-slate-400 mb-1",children:"Ø§Ù„Ù†Ø³Ø¨Ø©"}),e.jsxs("span",{className:`font-mono font-bold ${s.percentage<20?"text-red-600":"text-emerald-600"}`,children:[s.percentage,"%"]})]})]})]})};return e.jsxs(h.div,{initial:{opacity:0},animate:{opacity:1},className:"p-6 max-w-[1800px] mx-auto space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx(ee,{className:"text-3xl font-bold text-navy-900 font-cairo",children:"Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ÙˆØ§Ù„Ø®Ø²Ø§Ù†Ø§Øª"}),e.jsx(se,{className:"text-slate-500",children:"Ù…Ø±Ø§Ù‚Ø¨Ø© Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„ÙˆÙ‚ÙˆØ¯ ÙˆØ­Ø§Ù„Ø© Ø§Ù„Ø®Ø²Ø§Ù†Ø§Øª ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(F,{variant:"secondary",icon:V,className:"rounded-xl font-bold bg-emerald-500 hover:bg-emerald-600 text-white border-none shadow-lg shadow-emerald-200",onClick:()=>{C(null),i(!0)},children:"Ø¥Ø¶Ø§ÙØ© Ø®Ø²Ø§Ù†"}),e.jsx(F,{variant:"primary",icon:J,className:"rounded-xl font-bold bg-blue-600 hover:bg-blue-700 border-none text-white shadow-lg shadow-blue-200",onClick:()=>d(!0),children:"ØªÙØ±ÙŠØº Ø´Ø­Ù†Ø©"}),e.jsx(F,{variant:"secondary",icon:W,className:"rounded-xl font-bold",children:"ØªÙ‚Ø±ÙŠØ±"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"relative w-full md:max-w-md",children:[e.jsx(H,{className:"absolute right-3 top-3 text-slate-400 w-5 h-5"}),e.jsx(te,{placeholder:"Ø¨Ø­Ø« Ø¹Ù† Ø®Ø²Ø§Ù†...",className:"pl-4 pr-10 py-2 rounded-xl border-slate-200",value:t,onChange:s=>v(s.target.value)})]}),e.jsxs("div",{className:"flex gap-2 bg-slate-100 p-1 rounded-xl",children:[e.jsx("button",{onClick:()=>l("grid"),className:`p-2 rounded-lg transition-all ${b==="grid"?"bg-white shadow text-blue-600":"text-slate-500 hover:text-slate-700"}`,children:e.jsx(X,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>l("list"),className:`p-2 rounded-lg transition-all ${b==="list"?"bg-white shadow text-blue-600":"text-slate-500 hover:text-slate-700"}`,children:e.jsx(K,{className:"w-5 h-5"})})]})]}),b==="grid"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[L.map(s=>e.jsx(R,{tank:s},s.id)),L.length===0&&e.jsx("div",{className:"col-span-full text-center py-20 text-slate-400",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø®Ø²Ø§Ù†Ø§Øª Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ù„Ø¨Ø­Ø«"})]}),b==="list"&&e.jsx(ae,{className:"rounded-2xl shadow-lg ring-1 ring-slate-200 overflow-hidden p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-right",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 text-sm font-bold text-slate-600",children:"Ø§Ø³Ù… Ø§Ù„Ø®Ø²Ø§Ù†"}),e.jsx("th",{className:"p-4 text-sm font-bold text-slate-600",children:"Ø§Ù„Ù…Ù†ØªØ¬"}),e.jsx("th",{className:"p-4 text-sm font-bold text-slate-600 w-1/3",children:"Ø§Ù„Ù…Ø³ØªÙˆÙ‰"}),e.jsx("th",{className:"p-4 text-sm font-bold text-slate-600",children:"Ø§Ù„Ø³Ø¹Ø©"}),e.jsx("th",{className:"p-4 text-sm font-bold text-slate-600",children:"Ø§Ù„Ø­Ø§Ù„ÙŠ"}),e.jsx("th",{className:"p-4 text-sm font-bold text-slate-600 text-center",children:"Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:L.map(s=>e.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[e.jsxs("td",{className:"p-4 font-bold text-navy-900 flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg",children:e.jsx(Y,{className:"w-5 h-5 text-blue-500"})}),s.name]}),e.jsx("td",{className:"p-4",children:e.jsx($,{size:"xs",color:"slate",children:s.product})}),e.jsxs("td",{className:"p-4 flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs font-bold w-10",children:[s.percentage,"%"]}),e.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${s.percentage}%`}})})]}),e.jsx("td",{className:"p-4 font-mono",children:c.volume_display_mode==="gallons"?(s.total_cap/4.5).toLocaleString(void 0,{maximumFractionDigits:0}):s.total_cap.toLocaleString()}),e.jsx("td",{className:"p-4 font-mono font-bold",children:P(s.current)}),e.jsx("td",{className:"p-4 text-center",children:e.jsxs("div",{className:"flex justify-center gap-2 md:opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>{u(s),j(!0)},className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg",title:"Ù…Ø¹Ø§ÙŠØ±Ø©",children:e.jsx(O,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>T(s),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:e.jsx(M,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>E(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:e.jsx(A,{className:"w-4 h-4"})})]})})]},s.id))})]})})}),e.jsx(le,{isOpen:y,onClose:()=>d(!1),tanks:a,suppliers:f}),e.jsx(re,{isOpen:_,onClose:()=>i(!1),onSuccess:D,fuelSettings:p,fuelTypes:r,tank:S}),e.jsx(ne,{isOpen:g,onClose:()=>j(!1),tank:o,onSuccess:D})]})}export{ue as default};
