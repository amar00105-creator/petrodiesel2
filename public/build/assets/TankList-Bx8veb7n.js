import{j as e,f as U,m as N,a1 as re,X as V,F as ne,h as ie,t as k,a3 as oe,a4 as ce,v as W,k as B,P as X,D as Y,a5 as K,r as Z,q as de,a6 as xe,a7 as ue,z as me}from"./ui-DtuMUTb1.js";import{r as i,R as he}from"./vendor-BdFMDtQB.js";import{n as be,c as ee,b as pe,m as fe,h as z,p as ge,g as je,D as we}from"./main-D8tG-o71.js";import{D as Ne}from"./DischargeModal-BNZeNR15.js";import{S as se}from"./SuccessAnimation-Cki5Stj8.js";function ve({isOpen:n,onClose:g,onSuccess:h,fuelTypes:o=[],fuelSettings:c=[],tank:s=null}){const[x,f]=i.useState(!1),[a,b]=i.useState({name:"",fuel_type_id:"",capacity_liters:"",current_volume:"0",current_price:""});he.useEffect(()=>{if(n)if(s)b({id:s.id,name:s.name,fuel_type_id:s.fuel_type_id||"",capacity_liters:s.total_cap||s.capacity_liters,current_volume:s.current||s.current_volume,current_price:s.current_price||""});else{const r=o.length>0?o[0]:null;b({name:"",fuel_type_id:r?r.id:"",capacity_liters:"",current_volume:"0",current_price:r?r.price_per_liter||"0":""})}},[n,s,o]);const u=r=>{const{name:j,value:v}=r.target;let m={...a,[j]:v};if(j==="fuel_type_id"){const d=o.find(C=>String(C.id)===String(v));d&&(m.current_price=d.price_per_liter||"0")}b(m)},w=async r=>{r.preventDefault();const j=parseFloat(a.current_volume)||0,v=parseFloat(a.capacity_liters)||0;if(j<0){k.error("Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø£Ù† ØªÙƒÙˆÙ† Ø£Ù‚Ù„ Ù…Ù† ØµÙØ±");return}if(j>v){k.error("Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø£Ù† ØªØªØ¬Ø§ÙˆØ² Ø³Ø¹Ø© Ø§Ù„Ø®Ø²Ø§Ù†");return}f(!0);const m=window.BASE_URL||"/PETRODIESEL2/public",d=s?`${m}/tanks/update`:`${m}/tanks/store`;try{const L=await(await fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json();L.success?(k.success(L.message),h()):k.error(L.message||"Ø­Ø¯Ø« Ø®Ø·Ø£ Ù…Ø§")}catch(C){console.error("Error saving tank:",C),k.error("ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…")}finally{f(!1)}};return e.jsx(U,{children:n&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",dir:"rtl",children:e.jsxs(N.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden border border-slate-100 dark:bg-slate-900 dark:border-slate-800",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100 bg-slate-50/50 dark:bg-white/5 dark:border-white/10",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-navy-900 flex items-center gap-2 dark:text-white",children:[e.jsx(re,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),s?"ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø®Ø²Ø§Ù†":"Ø¥Ø¶Ø§ÙØ© Ø®Ø²Ø§Ù† Ø¬Ø¯ÙŠØ¯"]}),e.jsx("p",{className:"text-sm text-slate-500 mt-1 dark:text-slate-400",children:s?"ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙˆØ³Ø¹Ø© Ø§Ù„Ø®Ø²Ø§Ù†":"Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø®Ø²Ø§Ù† Ø§Ù„Ø¬Ø¯ÙŠØ¯ ÙˆØ§Ù„Ø³Ø¹Ø©"})]}),e.jsx("button",{onClick:g,className:"p-2 hover:bg-slate-200 rounded-lg text-slate-500 transition-colors dark:text-slate-400 dark:hover:bg-white/10",children:e.jsx(V,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:w,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2 dark:text-slate-300",children:"Ø§Ø³Ù… Ø§Ù„Ø®Ø²Ø§Ù†"}),e.jsx("input",{type:"text",name:"name",required:!0,placeholder:"Ù…Ø«Ø§Ù„: Ø®Ø²Ø§Ù† Ø§Ù„Ø¯ÙŠØ²Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ",className:"w-full p-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:focus:ring-blue-500/20",value:a.name,onChange:u})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2 dark:text-slate-300",children:"Ù†ÙˆØ¹ Ø§Ù„ÙˆÙ‚ÙˆØ¯"}),e.jsxs("div",{className:"relative",children:[e.jsx(ne,{className:"absolute right-3 top-3.5 text-slate-400 w-5 h-5 pointer-events-none"}),e.jsxs("select",{name:"fuel_type_id",className:"w-full p-3 pr-10 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none appearance-none bg-white dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:focus:ring-blue-500/20",value:a.fuel_type_id,onChange:u,required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„ÙˆÙ‚ÙˆØ¯"}),o.length>0?o.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id)):e.jsx("option",{value:"",disabled:!0,className:"dark:bg-slate-700",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù†ÙˆØ§Ø¹ ÙˆÙ‚ÙˆØ¯ Ù…Ø¹Ø±ÙØ© ÙÙŠ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2 dark:text-slate-300",children:"Ø§Ù„Ø³Ø¹Ø© Ø§Ù„ÙƒÙ„ÙŠØ© (Ù„ØªØ±)"}),e.jsx("input",{type:"number",name:"capacity_liters",required:!0,min:"0",placeholder:"0",className:"w-full p-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none font-mono dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:focus:ring-blue-500/20",value:a.capacity_liters,onChange:u})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2 dark:text-slate-300",children:"Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ© (Ù„ØªØ±)"}),e.jsx("input",{type:"number",name:"current_volume",required:!0,min:"0",placeholder:"0",className:"w-full p-3 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none font-mono dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:focus:ring-blue-500/20",value:a.current_volume,onChange:u})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2 dark:text-slate-300",children:"Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„Ù„ØªØ± (Ù…Ù† Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª)"}),e.jsx("input",{type:"number",name:"current_price",step:"0.01",readOnly:!0,placeholder:"0.00",className:"w-full p-3 rounded-xl border border-slate-200 bg-slate-100 text-slate-500 cursor-not-allowed outline-none font-mono dark:bg-slate-800/50 dark:border-slate-700 dark:text-slate-400",value:a.current_price,onChange:u})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx("button",{type:"button",onClick:g,className:"flex-1 p-3 rounded-xl font-bold text-slate-600 hover:bg-slate-100 transition-colors dark:text-slate-300 dark:hover:bg-white/5",children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx("button",{type:"submit",disabled:x,className:"flex-[2] p-3 rounded-xl font-bold text-white bg-blue-600 hover:bg-blue-700 transition-all shadow-lg shadow-blue-200 flex justify-center items-center gap-2 disabled:opacity-70",children:x?"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...":e.jsxs(e.Fragment,{children:[e.jsx(ie,{className:"w-5 h-5"}),s?"Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª":"Ø­ÙØ¸ Ø§Ù„Ø®Ø²Ø§Ù†"]})})]})]})]})})})}const ye=({tank:n,isOpen:g,onClose:h,onSuccess:o})=>{const[c,s]=i.useState(""),[x,f]=i.useState(""),[a,b]=i.useState(0),[u,w]=i.useState(!1),[r,j]=i.useState(!1);i.useEffect(()=>{if(c&&n){const m=parseFloat(n.current_volume||n.current||0),C=(parseFloat(c)||0)-m;b(isNaN(C)?0:C)}else b(0)},[c,n]),i.useEffect(()=>{g||(s(""),f(""),b(0))},[g]);const v=async()=>{if(!c||parseFloat(c)<0){k.error("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„ÙØ¹Ù„ÙŠØ©");return}if(parseFloat(c)>parseFloat(n.capacity_liters)){k.error("Ø§Ù„ÙƒÙ…ÙŠØ© ØªØªØ¬Ø§ÙˆØ² Ø³Ø¹Ø© Ø§Ù„Ø®Ø²Ø§Ù†!");return}try{w(!0);const d=await(await fetch(`${window.BASE_URL}/calibrations/add`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tank_id:n.id,actual_quantity:parseFloat(c),notes:x})})).json();d.success?(j(!0),setTimeout(()=>{o&&o(),h()},3e3)):k.error(d.message||"ÙØ´Ù„ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ù…Ø¹Ø§ÙŠØ±Ø©")}catch(m){console.error(m),k.error("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„")}finally{w(!1)}};return n?e.jsxs(e.Fragment,{children:[e.jsx(be,{open:g,onClose:h,static:!0,children:e.jsxs("div",{className:"p-6 bg-white rounded-lg max-w-2xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Ù…Ø¹Ø§ÙŠØ±Ø© Ø§Ù„Ø®Ø²Ø§Ù†"}),e.jsx("p",{className:"text-slate-500 mt-1",children:n.name})]}),e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-blue-700 font-medium",children:"Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…"}),e.jsxs("span",{className:"text-2xl font-bold text-blue-900",children:[parseFloat(n.current_volume||n.current||0).toLocaleString("ar-SA")," Ù„ØªØ±"]})]}),e.jsxs("div",{className:"mt-2 text-xs text-blue-600",children:["Ø§Ù„Ø³Ø¹Ø©: ",parseFloat(n.capacity_liters||n.total_cap||0).toLocaleString("ar-SA")," Ù„ØªØ±"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„ÙØ¹Ù„ÙŠØ© Ø§Ù„Ù…Ù‚Ø§Ø³Ø© (Ù„ØªØ±) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",value:c,onChange:m=>s(m.target.value),placeholder:"Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ù‚Ø§Ø³Ø© ÙŠØ¯ÙˆÙŠØ§Ù‹",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg",disabled:u,autoFocus:!0})]}),e.jsx("div",{className:`mb-6 p-4 rounded-lg border-2 transition-all ${c&&a>0?"bg-green-50 border-green-300":c&&a<0?"bg-red-50 border-red-300":"bg-gray-50 border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Ø§Ù„ÙØ±Ù‚ (Ø§Ù„Ø¹Ø¬Ø²/Ø§Ù„Ø²ÙŠØ§Ø¯Ø©)"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-3xl font-bold ${c&&a>0?"text-green-700":c&&a<0?"text-red-700":"text-gray-700"}`,children:[a>0&&"+",a.toFixed(2)," Ù„ØªØ±"]}),e.jsx("div",{className:`text-sm mt-1 ${c&&a>0?"text-green-600":c&&a<0?"text-red-600":"text-gray-600"}`,children:c?a>0?"âœ“ Ø²ÙŠØ§Ø¯Ø©":a<0?"âœ— Ø¹Ø¬Ø²":"= Ù…ØªØ·Ø§Ø¨Ù‚":"Ø³ÙŠØ¸Ù‡Ø± Ø¨Ø¹Ø¯ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙƒÙ…ÙŠØ©"})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"}),e.jsx("textarea",{value:x,onChange:m=>f(m.target.value),placeholder:"Ø£ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø£Ùˆ ØªÙˆØ¶ÙŠØ­Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©...",rows:"3",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",disabled:u})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:h,disabled:u,className:"px-6 py-2 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsxs("button",{onClick:v,disabled:u||!c,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[u&&e.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Ø­ÙØ¸ Ø§Ù„Ù…Ø¹Ø§ÙŠØ±Ø©"]})]})]})}),e.jsx(se,{isVisible:r,message:"ØªÙ…Øª Ø§Ù„Ù…Ø¹Ø§ÙŠØ±Ø© Ø¨Ù†Ø¬Ø§Ø­! ðŸŽŠ",onComplete:()=>j(!1)})]}):null},ke=({isVisible:n,onComplete:g,mode:h="transfer"})=>{const[o,c]=i.useState("transferring");i.useEffect(()=>{if(n){c("transferring"),setTimeout(()=>c("success"),2e3);const x=setTimeout(()=>{g&&g()},4e3);return()=>clearTimeout(x)}},[n,g]);const s=h==="delete";return e.jsx(U,{children:n&&e.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[9999] flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-3xl p-10 shadow-2xl flex flex-col items-center max-w-sm w-full relative overflow-hidden",children:[e.jsxs("div",{className:"h-32 w-full flex items-center justify-center relative mb-6",children:[e.jsx(U,{children:o==="success"&&e.jsx(N.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},className:"absolute inset-0 flex items-center justify-center z-20 bg-white",children:e.jsx("div",{className:`w-24 h-24 rounded-full flex items-center justify-center ${s?"bg-red-100":"bg-emerald-100"}`,children:e.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center shadow-lg ${s?"bg-red-500 shadow-red-300":"bg-emerald-500 shadow-emerald-300"}`,children:s?e.jsx(V,{className:"w-8 h-8 text-white stroke-3"}):e.jsx(oe,{className:"w-8 h-8 text-white stroke-3"})})})})}),e.jsxs("div",{className:"flex items-center justify-between w-full px-4 relative",children:[e.jsxs("div",{className:"flex flex-col items-center z-10",children:[e.jsxs("div",{className:"w-12 h-16 bg-slate-100 border-2 border-slate-300 rounded-lg relative overflow-hidden",children:[e.jsx(N.div,{initial:{height:"80%"},animate:{height:s?"0%":"20%"},transition:{duration:1.5,ease:"easeInOut"},className:"absolute bottom-0 w-full bg-amber-500 opacity-80"}),s&&e.jsx(N.div,{initial:{opacity:0,scale:.5},animate:{opacity:o==="transferring"?0:1,scale:o==="transferring"?.5:1},transition:{duration:.3,delay:.2},className:"absolute inset-0 flex items-center justify-center bg-red-50/30 backdrop-blur-[1px]",children:e.jsx(V,{className:"w-10 h-10 text-red-600 stroke-[3px]"})})]}),e.jsx("span",{className:"text-xs font-bold text-slate-400 mt-2",children:"Ø§Ù„Ù…ØµØ¯Ø±"})]}),e.jsx("div",{className:"flex-1 h-2 bg-slate-100 rounded-full mx-2 relative overflow-hidden",children:e.jsx(N.div,{initial:{x:"-100%"},animate:{x:"100%"},transition:{duration:1,repeat:2,ease:"linear"},className:"absolute top-0 left-0 w-1/2 h-full bg-blue-400 blur-sm"})}),e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:e.jsx("div",{className:"p-2 bg-white rounded-full shadow-lg border border-slate-100",children:e.jsx(ce,{className:"w-5 h-5 text-blue-500"})})}),e.jsxs("div",{className:"flex flex-col items-center z-10",children:[e.jsx("div",{className:"w-12 h-16 bg-slate-100 border-2 border-slate-300 rounded-lg relative overflow-hidden",children:e.jsx(N.div,{initial:{height:"20%"},animate:{height:"80%"},transition:{duration:1.5,ease:"easeInOut"},className:"absolute bottom-0 w-full bg-blue-500 opacity-80"})}),e.jsx("span",{className:"text-xs font-bold text-slate-400 mt-2",children:"Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„"})]})]})]}),e.jsxs("div",{className:"text-center z-20",children:[e.jsx(N.h3,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:`text-2xl font-black font-cairo ${o==="success"&&s?"text-red-600":"text-slate-800"}`,children:o==="transferring"?"Ø¬Ø§Ø±ÙŠ Ù†Ù‚Ù„ Ø§Ù„ÙˆÙ‚ÙˆØ¯...":s?"ØªÙ… Ø§Ù„Ù†Ù‚Ù„ ÙˆØ§Ù„Ø­Ø°Ù!":"ØªÙ… Ø§Ù„Ù†Ù‚Ù„ Ø¨Ù†Ø¬Ø§Ø­!"},o),e.jsx("p",{className:"text-slate-500 font-medium mt-2",children:o==="transferring"?"ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹":s?"ØªÙ… ØªÙØ±ÙŠØº ÙˆØ­Ø°Ù Ø§Ù„Ø®Ø²Ø§Ù† Ø§Ù„Ù…ØµØ¯Ø±":"ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙƒÙ…ÙŠØ§Øª ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…"})]}),e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1.5 bg-slate-50",children:e.jsx(N.div,{initial:{width:0},animate:{width:"100%"},transition:{duration:4,ease:"linear"},className:`h-full ${o==="success"?s?"bg-red-500":"bg-emerald-500":"bg-blue-500"}`})})]})})})};function Se({isOpen:n,onClose:g,tank:h,tanks:o,onConfirm:c}){const s=!!h,[x,f]=i.useState(h?h.id:""),[a,b]=i.useState([{tankId:"",amount:""}]),[u,w]=i.useState(""),[r,j]=i.useState(!1),[v,m]=i.useState(!1);i.useEffect(()=>{n&&h?(f(h.id),b([{tankId:"",amount:""}])):n&&!h&&(f(""),b([{tankId:"",amount:""}])),w(""),m(!1)},[n,h]);const d=o.find(l=>l.id==x),C=o.filter(l=>d&&l.id!=d.id&&l.fuel_type_id==d.fuel_type_id),L=a.reduce((l,p)=>l+(Number(p.amount)||0),0),O=d?Number(d.current_volume):0,F=Math.max(0,O-L),M=()=>{b([...a,{tankId:"",amount:""}])},$=l=>{const p=[...a];p.splice(l,1),b(p)},T=(l,p,y)=>{const D=[...a];D[l][p]=y,b(D),w("")},A=async()=>{if(!x){w("ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø®Ø²Ø§Ù† Ø§Ù„Ù…ØµØ¯Ø±");return}if(s&&Math.abs(F)>.1){w(`ÙŠØ¬Ø¨ ØªÙˆØ²ÙŠØ¹ ÙƒØ§Ù…Ù„ Ø§Ù„ÙƒÙ…ÙŠØ© Ù„Ø­Ø°Ù Ø§Ù„Ø®Ø²Ø§Ù†! Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: ${F.toLocaleString()} Ù„ØªØ±`);return}if(a.some(l=>!l.tankId||!l.amount||Number(l.amount)<=0)){w("ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­");return}j(!0);try{const l=a.map(p=>({tank_id:p.tankId,amount:p.amount}));if(s)await c(x,l),m(!0);else{const p=window.BASE_URL||"/PETRODIESEL2/public",D=await(await fetch(`${p}/tanks/transfer`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({id:x,transfers:l})})).text();let E;try{E=JSON.parse(D)}catch{throw console.error("Invalid JSON:",D),new Error("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù… (Ø§Ø³ØªØ¬Ø§Ø¨Ø© ØºÙŠØ± ØµØ§Ù„Ø­Ø©)")}E.success?m(!0):w(E.message)}}catch(l){console.error(l),w(l.message||"ÙØ´Ù„ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…")}finally{j(!1)}};return n?v?e.jsx(ke,{isVisible:!0,mode:s?"delete":"transfer",onComplete:()=>{g(),window.location.reload()}}):e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs(ee,{className:"max-w-2xl w-full bg-white rounded-2xl shadow-2xl p-6 ring-1 ring-slate-200",children:[e.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[e.jsx("div",{className:`p-3 rounded-full mb-4 ${s?"bg-amber-100 text-amber-600":"bg-blue-100 text-blue-600"}`,children:s?e.jsx(W,{className:"w-8 h-8"}):e.jsx("div",{className:"text-2xl font-bold",children:"â‡„"})}),e.jsx(pe,{className:"text-xl font-bold text-slate-900",children:s?"ØªÙØ±ÙŠØº Ø§Ù„Ø®Ø²Ø§Ù† Ù‚Ø¨Ù„ Ø§Ù„Ø­Ø°Ù":"Ù†Ù‚Ù„ ÙˆÙ‚ÙˆØ¯ Ø¨ÙŠÙ† Ø§Ù„Ø®Ø²Ø§Ù†Ø§Øª"}),s&&e.jsxs(fe,{className:"text-amber-600 font-medium",children:["Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ù†Ù‚Ù„Ù‡Ø§: ",e.jsx("span",{className:"font-bold font-mono text-lg",children:O.toLocaleString()})," Ù„ØªØ±"]})]}),e.jsxs("div",{className:"space-y-4",children:[!s&&e.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Ø§Ù„Ø®Ø²Ø§Ù† Ø§Ù„Ù…ØµØ¯Ø± (Ù…Ù†)"}),e.jsxs("select",{className:"w-full p-2 rounded-lg border-slate-300 focus:ring-2 focus:ring-blue-500",value:x,onChange:l=>f(l.target.value),children:[e.jsx("option",{value:"",children:"Ø§Ø®ØªØ± Ø§Ù„Ø®Ø²Ø§Ù†..."}),o.filter(l=>l.current_volume>0).map(l=>e.jsxs("option",{value:l.id,children:[l.name," (Ù…ØªØ§Ø­: ",Number(l.current_volume).toLocaleString()," Ù„ØªØ±) - ",l.product]},l.id))]})]}),u&&e.jsxs("div",{className:"p-3 bg-red-50 text-red-700 text-sm rounded-lg border border-red-100 flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4"}),u]}),e.jsx("div",{className:"max-h-60 overflow-y-auto space-y-3 pr-1",children:a.map((l,p)=>e.jsxs("div",{className:"flex flex-row items-end gap-3 p-3 bg-slate-50 rounded-xl border border-slate-100 relative",children:[e.jsxs("div",{className:"flex-[2] w-full",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1.5 block",children:"Ø§Ù„Ø®Ø²Ø§Ù† Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ (Ø¥Ù„Ù‰)"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"w-full text-right p-2.5 pl-8 h-11 text-sm rounded-lg border-slate-200 bg-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500 appearance-none",value:l.tankId,onChange:y=>T(p,"tankId",y.target.value),disabled:!x,children:[e.jsx("option",{value:"",children:"Ø§Ø®ØªØ± Ø®Ø²Ø§Ù† ÙˆØ¬Ù‡Ø©..."}),C.map(y=>e.jsxs("option",{value:y.id,children:[y.name," (Ù…ØªØ§Ø­: ",(y.capacity_liters-y.current_volume).toLocaleString()," L)"]},y.id))]}),e.jsx("div",{className:"absolute left-3 top-3.5 pointer-events-none text-slate-400",children:"â–¼"})]})]}),e.jsxs("div",{className:"flex-1 w-full relative",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1.5 block",children:"Ø§Ù„ÙƒÙ…ÙŠØ© (Ù„ØªØ±)"}),e.jsx("input",{type:"number",className:"w-full p-2.5 h-11 text-sm font-mono font-bold text-center rounded-lg border-slate-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:l.amount,onChange:y=>T(p,"amount",y.target.value),placeholder:"0",min:"0",max:O})]}),a.length>1&&e.jsx("button",{onClick:()=>$(p),className:"h-10 w-10 flex items-center justify-center text-red-500 hover:bg-red-50 rounded-lg transition-colors border border-transparent hover:border-red-100",title:"Ø¥Ø²Ø§Ù„Ø©",children:e.jsx(B,{className:"w-5 h-5"})})]},p))}),e.jsxs("div",{className:"flex justify-between items-center text-sm pt-2 border-t mt-2",children:[e.jsxs("button",{onClick:M,className:"flex items-center gap-1.5 text-blue-600 font-bold hover:bg-blue-50 px-3 py-1.5 rounded-lg transition-colors",children:[e.jsx(X,{className:"w-4 h-4"})," Ø¥Ø¶Ø§ÙØ© ÙˆØ¬Ù‡Ø© Ø£Ø®Ø±Ù‰"]}),e.jsxs("div",{className:"text-slate-600 bg-slate-100 px-3 py-1.5 rounded-lg",children:["Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø­Ø¯Ø¯: ",e.jsx("span",{className:"font-bold text-slate-900 mx-1",children:L.toLocaleString()})," / ",O.toLocaleString()]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4 pt-4 border-t border-slate-100",children:[e.jsx(z,{size:"md",variant:"secondary",className:"flex-1 border-slate-200 text-slate-600 hover:bg-slate-50",onClick:g,children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx(z,{size:"md",variant:"primary",className:`flex-[2] text-white border-none shadow-md ${s?"bg-amber-500 hover:bg-amber-600 shadow-amber-100":"bg-blue-600 hover:bg-blue-700 shadow-blue-100"}`,onClick:A,loading:r,children:s?"ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù†Ù‚Ù„ ÙˆØ§Ù„Ø­Ø°Ù":"ØªÙ†ÙÙŠØ° Ø§Ù„Ù†Ù‚Ù„"})]})]})}):null}const _e=({tank:n,onEdit:g,onDelete:h,onCalibrate:o,generalSettings:c={}})=>{const{name:s,product:x,percentage:f,total_cap:a,current:b}=n,u=c.volume_display_mode||"liters",r=x&&(x.includes("Diesel")||x.includes("Ø¯ÙŠØ²Ù„")||x.includes("Ø¬Ø§Ø²"))?{primary:"blue",liquid:"bg-blue-600",border:"border-blue-500/20",shadow:"rgba(59, 130, 246, 0.5)",text:"text-blue-400"}:{primary:"orange",liquid:"bg-orange-600",border:"border-orange-500/20",shadow:"rgba(249, 115, 22, 0.5)",text:"text-orange-400"},j={initial:{opacity:.6,shadowBlur:"10px"},animate:{opacity:[.6,1,.6],boxShadow:[`0 0 10px ${r.shadow}`,`0 0 20px ${r.shadow}`,`0 0 10px ${r.shadow}`]}},v=()=>{const d=b/4.5;return u==="gallons"?e.jsxs("span",{children:[d.toLocaleString(void 0,{maximumFractionDigits:1})," ",e.jsx("span",{className:"text-emerald-300 text-xs",children:"Ø¬Ø§Ù„ÙˆÙ†"})]}):u==="both"?e.jsxs("div",{className:"flex flex-col items-center leading-tight",children:[e.jsxs("span",{className:"text-white",children:[parseFloat(b).toLocaleString()," ",e.jsx("span",{className:"text-emerald-300 text-xs",children:"Ù„ØªØ±"})]}),e.jsxs("span",{className:"text-gray-400 text-sm",children:[d.toLocaleString(void 0,{maximumFractionDigits:0})," ",e.jsx("span",{className:"text-emerald-300/70 text-xs",children:"Ø¬Ø§Ù„ÙˆÙ†"})]})]}):e.jsxs("span",{children:[parseFloat(b).toLocaleString()," ",e.jsx("span",{className:"text-emerald-300 text-xs",children:"Ù„ØªØ±"})]})},m=()=>{const d=a/4.5;return u==="gallons"?e.jsxs("span",{children:[d.toLocaleString(void 0,{maximumFractionDigits:0})," ",e.jsx("span",{className:"text-amber-300 text-xs",children:"Ø¬Ø§Ù„ÙˆÙ†"})]}):u==="both"?e.jsxs("div",{className:"flex flex-col items-center leading-tight",children:[e.jsxs("span",{children:[parseFloat(a).toLocaleString()," ",e.jsx("span",{className:"text-amber-300 text-xs",children:"Ù„ØªØ±"})]}),e.jsxs("span",{className:"text-gray-500 text-sm",children:[d.toLocaleString(void 0,{maximumFractionDigits:0})," ",e.jsx("span",{className:"text-amber-300/70 text-xs",children:"Ø¬Ø§Ù„ÙˆÙ†"})]})]}):e.jsxs("span",{children:[parseFloat(a).toLocaleString()," ",e.jsx("span",{className:"text-amber-300 text-xs",children:"Ù„ØªØ±"})]})};return e.jsxs(N.div,{whileHover:{scale:1.02,translateY:-5},transition:{type:"spring",stiffness:300},className:`relative w-full h-80 rounded-3xl border border-white/10 bg-black/60 backdrop-blur-xl overflow-hidden group flex flex-col justify-between p-4 ${r.border}`,children:[e.jsx(N.div,{variants:j,initial:"initial",animate:"animate",transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:`absolute inset-y-0 left-0 w-1 bg-${r.primary}-500 z-20`}),e.jsx(N.div,{variants:j,initial:"initial",animate:"animate",transition:{duration:2,repeat:1/0,ease:"easeInOut",delay:1},className:`absolute inset-y-0 right-0 w-1 bg-${r.primary}-500 z-20`}),e.jsxs("div",{className:"absolute inset-0 w-full h-full z-0",children:[e.jsx(N.div,{className:`absolute bottom-0 left-0 w-full ${r.liquid} opacity-20`,initial:{height:0},animate:{height:`${f}%`},transition:{duration:1.5,ease:"easeOut"}}),e.jsx(N.div,{className:`absolute bottom-0 left-0 w-full ${r.liquid} opacity-40 blur-md`,initial:{height:0},animate:{height:`${f}%`},transition:{duration:1.5,ease:"easeOut",delay:.1}})]}),e.jsxs("div",{className:"w-full flex justify-between items-start z-10",children:[e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:`w-6 h-6 ${r.text}`}),e.jsx("h3",{className:"font-black text-xl text-white drop-shadow-md whitespace-nowrap",children:s})]}),e.jsx("span",{className:`text-sm font-bold ${r.text} uppercase bg-black/40 px-2 py-0.5 rounded mt-1 border border-white/5`,children:x})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("button",{onClick:o,className:"p-2 rounded-lg bg-purple-500/10 hover:bg-purple-500/20 text-purple-400 border border-purple-500/20 transition-all",title:"Ù…Ø¹Ø§ÙŠØ±Ø©",children:e.jsx(K,{className:"w-4 h-4"})}),e.jsx("button",{onClick:g,className:"p-2 rounded-lg bg-blue-500/10 hover:bg-blue-500/20 text-blue-400 border border-blue-500/20 transition-all",title:"ØªØ¹Ø¯ÙŠÙ„",children:e.jsx(Z,{className:"w-4 h-4"})}),e.jsx("button",{onClick:h,className:"p-2 rounded-lg bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20 transition-all",title:"Ø­Ø°Ù",children:e.jsx(B,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col justify-center items-center z-10",children:[e.jsxs("div",{className:"text-5xl font-black text-white drop-shadow-lg tracking-tighter",children:[f,"%"]}),e.jsx("span",{className:"text-sm text-cyan-300 font-bold tracking-widest mt-1",children:"Ø§Ù„Ù†Ø³Ø¨Ø©"})]}),e.jsxs("div",{className:"w-full z-10 grid grid-cols-2 gap-2 bg-black/50 p-4 rounded-xl border border-white/10 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex flex-col items-center border-r border-white/20",children:[e.jsx("span",{className:"text-sm text-cyan-300 font-bold mb-1",children:"Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ©"}),e.jsx("span",{className:"text-xl font-mono font-bold text-white",children:v()})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-sm text-amber-300 font-bold mb-1",children:"Ø§Ù„Ø³Ø¹Ø© Ø§Ù„ÙƒÙ„ÙŠØ©"}),e.jsx("span",{className:"text-xl font-mono font-bold text-gray-200",children:m()})]})]})]})};function $e({tanks:n=[],suppliers:g=[],fuelSettings:h=[],generalSettings:o={},fuelTypes:c=[]}){const[s,x]=i.useState(""),[f,a]=i.useState("grid"),[b,u]=i.useState(!1),[w,r]=i.useState(!1),[j,v]=i.useState(!1),[m,d]=i.useState(null),[C,L]=i.useState(null),[O,F]=i.useState(!1),[M,$]=i.useState(!1),[T,A]=i.useState(null),[l,p]=i.useState(!1),[y,D]=i.useState(!1),[E,R]=i.useState(""),J=()=>{r(!1),L(null),window.location.reload()},Q=t=>{L(t),r(!0)},G=async t=>{A(t),t.current>1?$(!0):F(!0)},te=async()=>{if(!T)return;p(!0);const t=window.BASE_URL||"/PETRODIESEL2/public";try{const S=await(await fetch(`${t}/tanks/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:T.id})})).json();S.success?(F(!1),R("ØªÙ… Ø­Ø°Ù Ø§Ù„Ø®Ø²Ø§Ù† Ø¨Ù†Ø¬Ø§Ø­"),D(!0)):S.requires_transfer?(F(!1),$(!0),k.warning(S.message)):k.error(S.message)}catch(_){console.error(_),k.error("ÙØ´Ù„ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø®Ø²Ø§Ù†")}finally{p(!1)}},ae=async(t,_)=>{const S=window.BASE_URL||"/PETRODIESEL2/public";try{const q=await(await fetch(`${S}/tanks/transfer_and_delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,transfers:_})})).json();q.success?($(!1),R(q.message),D(!0)):k.error(q.message)}catch(I){console.error(I),k.error("ÙØ´Ù„ ÙÙŠ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©")}},H=(n||[]).map(t=>{const _=Number(t.capacity_liters||0),S=Number(t.current_volume||0),I=_>0?S/_*100:0;return{id:t.id,name:t.name,product:t.product_type||"Fuel",fuel_type_id:t.fuel_type_id,total_cap:_,current:S,current_volume:S,capacity_liters:_,current_price:t.current_price,percentage:Math.min(100,Math.max(0,Number(I.toFixed(1)))),status:I<20?"Low Stock":"Active"}}),P=H.filter(t=>t.name.toLowerCase().includes(s.toLowerCase())||t.product.toLowerCase().includes(s.toLowerCase())),le=t=>{const _=o.volume_display_mode||"liters",S=t/4.5;return _==="gallons"?e.jsx("div",{className:"flex flex-col items-end",children:e.jsxs("span",{children:[S.toLocaleString(void 0,{maximumFractionDigits:1})," ",e.jsx("span",{className:"text-xs text-slate-400",children:"Gal"})]})}):_==="both"?e.jsxs("div",{className:"flex flex-col items-end text-right",children:[e.jsxs("span",{className:"text-sm text-emerald-600 font-bold",children:[S.toLocaleString(void 0,{maximumFractionDigits:1})," ",e.jsx("span",{className:"text-[10px]",children:"Gal"})]}),e.jsxs("span",{className:"text-[10px] text-slate-400",children:[t.toLocaleString()," L"]})]}):e.jsxs("span",{children:[t.toLocaleString()," ",e.jsx("span",{className:"text-xs text-slate-400",children:"L"})]})};return e.jsxs(N.div,{initial:{opacity:0},animate:{opacity:1},className:"p-6 max-w-[1800px] mx-auto space-y-8",children:[e.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-center gap-4 bg-white p-4 rounded-2xl shadow-sm border border-slate-100 dark:bg-white/5 dark:backdrop-blur-md dark:border-white/10 dark:shadow-none",children:[e.jsxs("div",{className:"flex w-full xl:w-auto gap-4",children:[e.jsxs("div",{className:"relative flex-1 xl:w-96",children:[e.jsx(de,{className:"absolute right-3 top-3 text-slate-400 w-5 h-5"}),e.jsx(ge,{placeholder:"Ø¨Ø­Ø« Ø¹Ù† Ø®Ø²Ø§Ù† Ø£Ùˆ Ù…Ù†ØªØ¬...",className:"pl-4 pr-10 py-2 rounded-xl border-slate-200 dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:placeholder-slate-400",value:s,onChange:t=>x(t.target.value)})]}),e.jsxs("div",{className:"flex gap-1 bg-slate-100 p-1 rounded-xl shrink-0 dark:bg-white/5",children:[e.jsx("button",{onClick:()=>a("grid"),className:`p-2 rounded-lg transition-all ${f==="grid"?"bg-white shadow text-blue-600 dark:bg-blue-600 dark:text-white":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300"}`,title:"Ø´Ø¨ÙƒØ©",children:e.jsx(xe,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>a("list"),className:`p-2 rounded-lg transition-all ${f==="list"?"bg-white shadow text-blue-600 dark:bg-blue-600 dark:text-white":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300"}`,title:"Ù‚Ø§Ø¦Ù…Ø©",children:e.jsx(ue,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex gap-2 w-full xl:w-auto justify-end overflow-x-auto pb-1 xl:pb-0",children:[e.jsx(z,{variant:"secondary",className:"rounded-xl font-bold border-slate-200 hover:border-emerald-500 hover:text-emerald-600 whitespace-nowrap dark:bg-white/5 dark:border-white/10 dark:text-slate-300 dark:hover:bg-emerald-500/20 dark:hover:text-emerald-400",onClick:()=>{A(null),$(!0)},children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"â‡„"})," Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª"]})}),e.jsx(z,{variant:"secondary",icon:X,className:"rounded-xl font-bold bg-emerald-500 hover:bg-emerald-600 text-white border-none shadow-lg shadow-emerald-100 whitespace-nowrap",onClick:()=>{L(null),r(!0)},children:"Ø¥Ø¶Ø§ÙØ© Ø®Ø²Ø§Ù†"}),e.jsx("button",{className:"custom-btn btn dark:bg-blue-600 dark:text-white dark:hover:bg-blue-700",onClick:()=>u(!0),children:e.jsx("span",{children:"ØªÙØ±ÙŠØº Ø´Ø­Ù†Ø©"})}),e.jsx(z,{variant:"secondary",icon:me,className:"rounded-xl font-bold border-slate-200 whitespace-nowrap dark:bg-white/5 dark:border-white/10 dark:text-slate-300",children:"ØªÙ‚Ø±ÙŠØ±"})]})]}),f==="grid"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6",children:[P.map(t=>e.jsx(_e,{tank:t,generalSettings:o,onEdit:()=>Q(t),onDelete:()=>G(t),onCalibrate:()=>{d(t),v(!0)}},t.id)),P.length===0&&e.jsx("div",{className:"col-span-full text-center py-20 text-slate-400",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø®Ø²Ø§Ù†Ø§Øª Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ù„Ø¨Ø­Ø«"})]}),f==="list"&&e.jsx(ee,{className:"rounded-2xl shadow-lg ring-1 ring-slate-200 overflow-hidden p-0 dark:bg-white/5 dark:backdrop-blur-md dark:ring-white/10 dark:shadow-none",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-right",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200 dark:bg-white/5 dark:border-white/10 dark:text-slate-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 text-sm font-bold text-slate-600",children:"Ø§Ø³Ù… Ø§Ù„Ø®Ø²Ø§Ù†"}),e.jsx("th",{className:"p-4 text-sm font-bold text-slate-600",children:"Ø§Ù„Ù…Ù†ØªØ¬"}),e.jsx("th",{className:"p-4 text-sm font-bold text-slate-600 w-1/3",children:"Ø§Ù„Ù…Ø³ØªÙˆÙ‰"}),e.jsx("th",{className:"p-4 text-sm font-bold text-slate-600",children:"Ø§Ù„Ø³Ø¹Ø©"}),e.jsx("th",{className:"p-4 text-sm font-bold text-slate-600",children:"Ø§Ù„Ø­Ø§Ù„ÙŠ"}),e.jsx("th",{className:"p-4 text-sm font-bold text-slate-600 text-center",children:"Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-white/5",children:P.map(t=>e.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors group dark:hover:bg-white/5",children:[e.jsxs("td",{className:"p-4 font-bold text-navy-900 flex items-center gap-3 dark:text-white",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-lg dark:bg-white/10",children:e.jsx(Y,{className:"w-5 h-5 text-blue-500"})}),t.name]}),e.jsx("td",{className:"p-4",children:e.jsx(je,{size:"xs",color:"slate",children:t.product})}),e.jsxs("td",{className:"p-4 flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs font-bold w-10",children:[t.percentage,"%"]}),e.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${t.percentage}%`}})})]}),e.jsx("td",{className:"p-4 font-mono dark:text-slate-300",children:o.volume_display_mode==="gallons"?(t.total_cap/4.5).toLocaleString(void 0,{maximumFractionDigits:0}):t.total_cap.toLocaleString()}),e.jsx("td",{className:"p-4 font-mono font-bold dark:text-white",children:le(t.current)}),e.jsx("td",{className:"p-4 text-center",children:e.jsxs("div",{className:"flex justify-center gap-2 md:opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>{d(t),v(!0)},className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg",title:"Ù…Ø¹Ø§ÙŠØ±Ø©",children:e.jsx(K,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Q(t),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:e.jsx(Z,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>G(t),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:e.jsx(B,{className:"w-4 h-4"})})]})})]},t.id))})]})})}),e.jsx(se,{isVisible:y,message:E,onComplete:()=>window.location.reload()}),e.jsx(we,{isOpen:O,onClose:()=>F(!1),onConfirm:te,title:"Ø­Ø°Ù Ø§Ù„Ø®Ø²Ø§Ù†",message:`Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„Ø®Ø²Ø§Ù† "${T==null?void 0:T.name}"ØŸ`,isDeleting:l}),e.jsx(Se,{isOpen:M,onClose:()=>$(!1),tank:T,tanks:H,onConfirm:ae}),e.jsx(Ne,{isOpen:b,onClose:()=>u(!1),tanks:n,suppliers:g}),e.jsx(ve,{isOpen:w,onClose:()=>r(!1),onSuccess:J,fuelSettings:h,fuelTypes:c,tank:C}),e.jsx(ye,{isOpen:j,onClose:()=>v(!1),tank:m,onSuccess:J})]})}export{$e as default};
