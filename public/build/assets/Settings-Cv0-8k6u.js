import{j as e,u as Q,af as L,p as z,o as R,f as $,m as _,X as W,an as F,a9 as le,i as J,a2 as ie,t as c,c as q,a3 as Y,S as ne,F as V,ao as B,G as K,a1 as re,y as ce}from"./ui-Cx9d0ciQ.js";import{r as p}from"./vendor-BdFMDtQB.js";import{c as C,b as w,g as M,p as y,m as P,w as de,o as oe,v as T,e as x,h as xe,j as me,k as E,q as he,r as O,t as H}from"./main-CZ5QbTZK.js";import be from"./StationList-C-k5VC1a.js";function ue({roles:g=[],onSave:k,onDelete:b}){const[i,m]=p.useState(null),[l,r]=p.useState(!1),v=[{id:"sales.view",label:"ÿπÿ±ÿ∂ ÿßŸÑŸÖÿ®Ÿäÿπÿßÿ™"},{id:"sales.create",label:"ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿ®Ÿäÿπÿßÿ™"},{id:"sales.edit",label:"ÿ™ÿπÿØŸäŸÑ ÿßŸÑŸÖÿ®Ÿäÿπÿßÿ™"},{id:"sales.delete",label:"ÿ≠ÿ∞ŸÅ ÿßŸÑŸÖÿ®Ÿäÿπÿßÿ™"},{id:"purchases.view",label:"ÿπÿ±ÿ∂ ÿßŸÑŸÖÿ¥ÿ™ÿ±Ÿäÿßÿ™"},{id:"purchases.create",label:"ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿ¥ÿ™ÿ±Ÿäÿßÿ™"},{id:"purchases.edit",label:"ÿ™ÿπÿØŸäŸÑ ÿßŸÑŸÖÿ¥ÿ™ÿ±Ÿäÿßÿ™"},{id:"purchases.delete",label:"ÿ≠ÿ∞ŸÅ ÿßŸÑŸÖÿ¥ÿ™ÿ±Ÿäÿßÿ™"},{id:"inventory.view",label:"ÿπÿ±ÿ∂ ÿßŸÑŸÖÿÆÿ≤ŸàŸÜ"},{id:"inventory.create",label:"ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿÆÿ≤ŸàŸÜ"},{id:"inventory.edit",label:"ÿ™ÿπÿØŸäŸÑ ÿßŸÑŸÖÿÆÿ≤ŸàŸÜ"},{id:"inventory.delete",label:"ÿ≠ÿ∞ŸÅ ÿßŸÑŸÖÿÆÿ≤ŸàŸÜ"},{id:"finance.view",label:"ÿπÿ±ÿ∂ ÿßŸÑŸÖÿßŸÑŸäÿ©"},{id:"finance.create",label:"ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿßŸÑŸäÿ©"},{id:"finance.edit",label:"ÿ™ÿπÿØŸäŸÑ ÿßŸÑŸÖÿßŸÑŸäÿ©"},{id:"finance.delete",label:"ÿ≠ÿ∞ŸÅ ÿßŸÑŸÖÿßŸÑŸäÿ©"},{id:"hr.view",label:"ÿπÿ±ÿ∂ ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ"},{id:"hr.create",label:"ÿ•ÿ∂ÿßŸÅÿ© ŸÖŸàÿ∏ŸÅŸäŸÜ"},{id:"hr.edit",label:"ÿ™ÿπÿØŸäŸÑ ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ"},{id:"hr.delete",label:"ÿ≠ÿ∞ŸÅ ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ"},{id:"settings.view",label:"ÿπÿ±ÿ∂ ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™"},{id:"settings.edit",label:"ÿ™ÿπÿØŸäŸÑ ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™"},{id:"reports.view",label:"ÿπÿ±ÿ∂ ÿßŸÑÿ™ŸÇÿßÿ±Ÿäÿ±"},{id:"reports.export",label:"ÿ™ÿµÿØŸäÿ± ÿßŸÑÿ™ŸÇÿßÿ±Ÿäÿ±"}],j=s=>{let u=[];try{u=typeof s.permissions=="string"?JSON.parse(s.permissions):s.permissions}catch{u=[]}const I=u.includes("*");m({...s,_permissions:new Set(u),isSuper:I}),r(!0)},d=()=>{m({id:null,name:"",description:"",_permissions:new Set,isSuper:!1}),r(!0)},S=s=>{if(i.isSuper)return;const u=new Set(i._permissions);u.has(s)?u.delete(s):u.add(s),m({...i,_permissions:u})},h=()=>{m(s=>({...s,isSuper:!s.isSuper,_permissions:s.isSuper?new Set:new Set(["*"])}))},a=()=>{if(!i.name){c.error("ÿßÿ≥ŸÖ ÿßŸÑÿØŸàÿ± ŸÖÿ∑ŸÑŸàÿ®");return}const s=i.isSuper?["*"]:Array.from(i._permissions);k({id:i.id,name:i.name,description:i.description,permissions:s}),r(!1)},[N,f]=p.useState({isOpen:!1,roleId:null,roleName:""}),D=s=>{f({isOpen:!0,roleId:s.id,roleName:s.name})},X=()=>{b&&N.roleId&&(b(N.roleId),f({isOpen:!1,roleId:null,roleName:""}),r(!1))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(C,{className:"rounded-2xl shadow-md ring-1 ring-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx(w,{children:"ÿ£ÿØŸàÿßÿ± ÿßŸÑŸÜÿ∏ÿßŸÖ ŸàÿßŸÑÿµŸÑÿßÿ≠Ÿäÿßÿ™"}),e.jsxs("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-bold text-sm hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(Q,{className:"w-4 h-4"})," ÿØŸàÿ± ÿ¨ÿØŸäÿØ"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:g.map(s=>e.jsxs("div",{className:"p-4 border border-slate-200 rounded-xl hover:shadow-md transition-shadow bg-white relative group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:`w-5 h-5 ${s.is_system==1?"text-amber-500":"text-blue-500"}`}),e.jsx("h3",{className:"font-bold text-lg text-slate-800",children:s.name})]}),e.jsxs("div",{className:"flex gap-2 opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>j(s),className:"p-1.5 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",title:"ÿ™ÿπÿØŸäŸÑ",children:e.jsx(z,{className:"w-4 h-4"})}),s.is_system!=1&&e.jsx("button",{onClick:()=>D(s),className:"p-1.5 text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition-colors",title:"ÿ≠ÿ∞ŸÅ",children:e.jsx(R,{className:"w-4 h-4"})})]})]}),e.jsx("p",{className:"text-sm text-slate-500 mb-4 h-10 line-clamp-2",children:s.description||"ŸÑÿß ŸäŸàÿ¨ÿØ ŸàÿµŸÅ"}),e.jsxs("div",{className:"flex justify-between items-center mt-2 pt-2 border-t border-slate-50",children:[e.jsx(M,{size:"xs",color:s.is_system==1?"amber":"slate",children:s.is_system==1?"ŸÜÿ∏ÿßŸÖ":"ŸÖÿÆÿµÿµ"}),e.jsxs("span",{className:"text-xs text-slate-400 font-mono",children:["ID: ",s.id]})]})]},s.id))})]}),e.jsx($,{children:l&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",children:e.jsxs(_.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl shadow-xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[e.jsx(w,{children:i.id?"ÿ™ÿπÿØŸäŸÑ ÿßŸÑÿØŸàÿ±":"ÿ•ŸÜÿ¥ÿßÿ° ÿØŸàÿ± ÿ¨ÿØŸäÿØ"}),e.jsx("button",{onClick:()=>r(!1),className:"text-slate-400 hover:text-slate-600",children:e.jsx(W,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"ÿßÿ≥ŸÖ ÿßŸÑÿØŸàÿ±"}),e.jsx(y,{value:i.name,onChange:s=>m({...i,name:s.target.value}),placeholder:"ŸÖÿ´ÿßŸÑ: ŸÖÿØŸäÿ± ŸÖÿ®Ÿäÿπÿßÿ™"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"ÿßŸÑŸàÿµŸÅ"}),e.jsx(y,{value:i.description,onChange:s=>m({...i,description:s.target.value}),placeholder:"ŸàÿµŸÅ ŸÖÿÆÿ™ÿµÿ±..."})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-amber-50 rounded-xl border border-amber-100",children:[e.jsx(L,{className:"w-6 h-6 text-amber-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-amber-900",children:"ÿµŸÑÿßÿ≠Ÿäÿßÿ™ ŸÉÿßŸÖŸÑÿ© (Super Admin)"}),e.jsx("p",{className:"text-xs text-amber-700",children:"ŸÖŸÜÿ≠ Ÿáÿ∞ÿß ÿßŸÑÿØŸàÿ± ÿ¨ŸÖŸäÿπ ÿßŸÑÿµŸÑÿßÿ≠Ÿäÿßÿ™ ŸÅŸä ÿßŸÑŸÜÿ∏ÿßŸÖ ÿØŸàŸÜ ÿßÿ≥ÿ™ÿ´ŸÜÿßÿ°."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:i.isSuper,onChange:h}),e.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-amber-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-600"})]})]}),!i.isSuper&&e.jsxs("div",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50/50",children:[e.jsxs("h4",{className:"font-bold text-slate-700 mb-3 flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-slate-500"})," ÿ™ÿ≠ÿØŸäÿØ ÿßŸÑÿµŸÑÿßÿ≠Ÿäÿßÿ™ ÿßŸÑÿØŸÇŸäŸÇÿ©"]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:v.map(s=>{const u=i._permissions.has(s.id);return e.jsxs("div",{onClick:()=>S(s.id),className:`
                                                            cursor-pointer select-none px-3 py-2 rounded-lg border text-xs font-bold flex items-center gap-2 transition-all
                                                            ${u?"bg-blue-600 border-blue-600 text-white shadow-sm":"bg-white border-slate-200 text-slate-600 hover:border-blue-300 hover:bg-white"}
                                                        `,children:[e.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${u?"bg-white/20 border-transparent":"border-slate-300"}`,children:u&&e.jsx(le,{className:"w-3 h-3 text-white"})}),s.label]},s.id)})})]})]}),e.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50 flex justify-between gap-3",children:[e.jsx("div",{children:i.id&&i.is_system!=1&&e.jsxs("button",{onClick:()=>D(i),className:"px-4 py-2 rounded-xl font-bold text-red-600 bg-red-50 hover:bg-red-100 transition-colors flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4"})," ÿ≠ÿ∞ŸÅ ÿßŸÑÿØŸàÿ±"]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>r(!1),className:"px-6 py-2 rounded-xl font-bold text-slate-500 hover:bg-slate-200 transition-colors",children:"ÿ•ŸÑÿ∫ÿßÿ°"}),e.jsxs("button",{onClick:a,className:"px-8 py-2 rounded-xl font-bold bg-blue-600 text-white shadow-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5"})," ÿ≠ŸÅÿ∏ ÿßŸÑÿØŸàÿ±"]})]})]})]})})}),e.jsx($,{children:N.isOpen&&e.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",children:e.jsxs(_.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:[e.jsxs("div",{className:"p-6 text-center space-y-4",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(ie,{className:"w-8 h-8 text-red-600"})}),e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"ÿ≠ÿ∞ŸÅ ÿßŸÑÿØŸàÿ±"}),e.jsxs("p",{className:"text-slate-500",children:["ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ≠ÿ∞ŸÅ ÿßŸÑÿØŸàÿ± ",e.jsxs("span",{className:"font-bold text-slate-800",children:['"',N.roleName,'"']}),"ÿü",e.jsx("br",{}),"ŸÑÿß ŸäŸÖŸÉŸÜ ÿßŸÑÿ™ÿ±ÿßÿ¨ÿπ ÿπŸÜ Ÿáÿ∞ÿß ÿßŸÑÿ•ÿ¨ÿ±ÿßÿ°ÿå Ÿàÿ≥Ÿäÿ™ŸÖ ÿ•ÿ≤ÿßŸÑÿ© ÿßŸÑÿµŸÑÿßÿ≠Ÿäÿßÿ™ ŸÖŸÜ ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖŸäŸÜ ÿßŸÑŸÖÿ±ÿ™ÿ®ÿ∑ŸäŸÜ ÿ®Ÿá."]})]}),e.jsxs("div",{className:"p-6 bg-slate-50 flex gap-3 justify-center border-t border-slate-100",children:[e.jsx("button",{onClick:()=>f({isOpen:!1,roleId:null,roleName:""}),className:"px-6 py-2 rounded-xl font-bold text-slate-500 hover:bg-slate-200 transition-colors",children:"ÿ•ŸÑÿ∫ÿßÿ°"}),e.jsxs("button",{onClick:X,className:"px-6 py-2 rounded-xl font-bold bg-red-600 text-white shadow-lg hover:bg-red-700 transition-colors flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4"})," ŸÜÿπŸÖÿå ÿ≠ÿ∞ŸÅ"]})]})]})})})]})}function pe({users:g=[],roles:k=[],stations:b=[],onSave:i,onCreate:m}){const[l,r]=p.useState(null),[v,j]=p.useState(!1),d=a=>{const N=a.stations?a.stations.map(f=>String(f.id)):a.station_id?[String(a.station_id)]:[];r({...a,station_ids:N,mode:"edit"}),j(!0)},S=()=>{r({id:null,name:"",email:"",password:"",role_id:"",station_ids:[],status:"active",mode:"create"}),j(!0)},h=()=>{if(l){if(l.mode==="create"){if(!l.name||!l.email||!l.password){c.error("ÿßŸÑÿßÿ≥ŸÖÿå ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸäÿå ŸàŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ± ŸÖÿ∑ŸÑŸàÿ®ÿ©");return}m&&m(l)}else i(l);j(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(C,{className:"rounded-2xl shadow-md ring-1 ring-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(w,{children:"ÿ•ÿØÿßÿ±ÿ© ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖŸäŸÜ Ÿàÿ™ÿπŸäŸäŸÜ ÿßŸÑÿ£ÿØŸàÿßÿ±"}),e.jsxs(M,{color:"blue",children:[g.length," ŸÖÿ≥ÿ™ÿÆÿØŸÖ"]})]}),e.jsxs("button",{onClick:S,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg font-bold text-sm hover:bg-emerald-700 flex items-center gap-2 shadow-sm transition-all",children:[e.jsx(q,{className:"w-4 h-4"})," ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿ¨ÿØŸäÿØ"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-right",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-bold border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ"}),e.jsx("th",{className:"p-4",children:"ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä"}),e.jsx("th",{className:"p-4",children:"ÿßŸÑŸÖÿ≠ÿ∑ÿ© (ŸÖŸÉÿßŸÜ ÿßŸÑÿπŸÖŸÑ)"}),e.jsx("th",{className:"p-4",children:"ÿßŸÑÿØŸàÿ± (ÿßŸÑÿµŸÑÿßÿ≠Ÿäÿ©)"}),e.jsx("th",{className:"p-4",children:"ÿßŸÑÿ≠ÿßŸÑÿ©"}),e.jsx("th",{className:"p-4",children:"ÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100 text-sm",children:g.map(a=>{const N=a.role_name||(a.role==="super_admin"?"ŸÖÿØŸäÿ± ÿπÿßŸÖ (Legacy)":a.role),f=a.station_name||"ÿπÿßŸÖ / ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿ≠ÿ∑ÿßÿ™";return e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[e.jsxs("td",{className:"p-4 font-bold text-slate-800 flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold",children:a.name.charAt(0).toUpperCase()}),a.name]}),e.jsx("td",{className:"p-4 text-slate-500 font-mono",children:a.email}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-bold ${a.station_id?"bg-sky-50 text-sky-700":"bg-purple-50 text-purple-700"}`,children:[e.jsx(Y,{className:"w-3 h-3"}),f]})}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-bold ${a.role_id?"bg-emerald-50 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:[e.jsx(F,{className:"w-3 h-3"}),N]})}),e.jsx("td",{className:"p-4",children:e.jsx(M,{size:"xs",color:a.status==="active"?"emerald":"red",children:a.status==="active"?"ŸÜÿ¥ÿ∑":"ÿ∫Ÿäÿ± ŸÜÿ¥ÿ∑"})}),e.jsx("td",{className:"p-4",children:e.jsx("button",{onClick:()=>d(a),className:"p-2 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:e.jsx(z,{className:"w-4 h-4"})})})]},a.id)})})]})})]}),e.jsx($,{children:v&&l&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",children:e.jsxs(_.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center",children:e.jsx(q,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx(w,{children:l.mode==="create"?"ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿ¨ÿØŸäÿØ":l.name}),e.jsx(P,{className:"text-xs",children:l.mode==="create"?"ÿ£ÿØÿÆŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ¨ÿØŸäÿØ":l.email})]})]}),e.jsx("button",{onClick:()=>j(!1),className:"text-slate-400 hover:text-slate-600",children:e.jsx(W,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[l.mode==="create"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ"}),e.jsx(y,{value:l.name,onChange:a=>r({...l,name:a.target.value}),placeholder:"ÿßŸÑÿßÿ≥ŸÖ ÿßŸÑŸÉÿßŸÖŸÑ"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä"}),e.jsx(y,{value:l.email,onChange:a=>r({...l,email:a.target.value}),placeholder:"example@email.com"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ± (Secret)"}),e.jsx(y,{type:"password",value:l.password,onChange:a=>r({...l,password:a.target.value}),placeholder:"********"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"ŸÖŸÜÿßÿ∑ŸÇ ÿßŸÑÿπŸÖŸÑ (ÿßŸÑŸÖÿ≠ÿ∑ÿßÿ™)"}),e.jsx(de,{value:l.station_ids||[],onValueChange:a=>r({...l,station_ids:a}),placeholder:"ÿßÿÆÿ™ÿ± ÿßŸÑŸÖÿ≠ÿ∑ÿßÿ™...",children:b.map(a=>e.jsx(oe,{value:String(a.id),children:a.name},a.id))}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"ÿ™ÿ≠ÿØŸäÿØ ÿßŸÑŸÖÿ≠ÿ∑ÿ© ŸäŸÇŸäÿØ ŸàÿµŸàŸÑ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ŸÑÿ®ŸäÿßŸÜÿßÿ™ Ÿáÿ∞Ÿá ÿßŸÑŸÖÿ≠ÿ∑ÿ© ŸÅŸÇÿ∑. ÿ™ÿ±ŸÉŸá ŸÅÿßÿ±ÿ∫ÿßŸã ŸäÿπŸÜŸä ÿßŸÑŸàÿµŸàŸÑ ŸÑÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿ≠ÿ∑ÿßÿ™ (ÿ•ÿØÿßÿ±ÿ© ŸÖÿ±ŸÉÿ≤Ÿäÿ©)."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"ÿßŸÑÿØŸàÿ± ÿßŸÑŸàÿ∏ŸäŸÅŸä (ÿßŸÑÿµŸÑÿßÿ≠Ÿäÿßÿ™)"}),e.jsxs(T,{value:String(l.role_id||"0"),onValueChange:a=>r({...l,role_id:a==="0"?null:a}),children:[e.jsx(x,{value:"0",children:"ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ (ÿµŸÑÿßÿ≠Ÿäÿßÿ™ ÿßŸÅÿ™ÿ±ÿßÿ∂Ÿäÿ©)"}),k.map(a=>e.jsx(x,{value:String(a.id),icon:F,children:a.name},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"ÿ≠ÿßŸÑÿ© ÿßŸÑÿ≠ÿ≥ÿßÿ®"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-3 border rounded-xl flex-1 hover:bg-emerald-50 peer-checked:border-emerald-500",children:[e.jsx("input",{type:"radio",name:"status",checked:l.status==="active",onChange:()=>r({...l,status:"active"}),className:"w-4 h-4 text-emerald-600"}),e.jsx("span",{className:"font-bold text-emerald-700",children:"ŸÜÿ¥ÿ∑ (Active)"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-3 border rounded-xl flex-1 hover:bg-red-50",children:[e.jsx("input",{type:"radio",name:"status",checked:l.status==="inactive",onChange:()=>r({...l,status:"inactive"}),className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"font-bold text-red-700",children:"ŸÖŸàŸÇŸàŸÅ (Inactive)"})]})]})]})]}),e.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>j(!1),className:"px-6 py-2 rounded-xl font-bold text-slate-500 hover:bg-slate-200 transition-colors",children:"ÿ•ŸÑÿ∫ÿßÿ°"}),e.jsxs("button",{onClick:h,className:"px-8 py-2 rounded-xl font-bold bg-blue-600 text-white shadow-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5"})," ÿ≠ŸÅÿ∏ ÿßŸÑÿ™ÿπÿØŸäŸÑÿßÿ™"]})]})]})})})]})}function we({general:g={},fuel:k={},alerts:b={},roles:i=[],fuelTypes:m=[],stations:l=[],users:r=[]}){const[v,j]=p.useState(!1),[d,S]=p.useState(g),[h,a]=p.useState(m),[N,f]=p.useState(!1),[D,X]=p.useState(null);p.useEffect(()=>{S(g),a(m)},[g,m]);const s=(t,n)=>{S({...d,[t]:n})},u=async()=>{j(!0);try{const t=new FormData;t.append("section","general"),Object.entries(d).forEach(([n,o])=>t.append(n,o)),await fetch("/PETRODIESEL2/public/settings/update",{method:"POST",body:t}),c.success("ÿ™ŸÖ ÿ≠ŸÅÿ∏ ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑÿπÿßŸÖÿ© ÿ®ŸÜÿ¨ÿßÿ≠"),setTimeout(()=>window.location.reload(),1e3)}catch{c.error("ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ≠ŸÅÿ∏")}finally{j(!1)}},I=async t=>{try{const n=await fetch("/PETRODIESEL2/public/settings/save_fuel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const A=await n.text();throw console.error("Server Error:",A),new Error(`Server responded with ${n.status}`)}const o=await n.json();o.success?(c.success("ÿ™ŸÖ ÿ≠ŸÅÿ∏ ŸÜŸàÿπ ÿßŸÑŸàŸÇŸàÿØ"),setTimeout(()=>window.location.reload(),500)):c.error(o.message)}catch(n){console.error(n),c.error("ŸÅÿ¥ŸÑ ÿ≠ŸÅÿ∏ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™: "+n.message)}},U=async t=>{if(confirm("ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ≠ÿ∞ŸÅ Ÿáÿ∞ÿß ÿßŸÑŸÜŸàÿπÿü"))try{const n=await fetch("/PETRODIESEL2/public/settings/delete_fuel",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({id:t})});let o;const A=await n.text();try{o=JSON.parse(A)}catch{throw new Error("Server returned invalid JSON: "+A.substring(0,100))}if(!n.ok)throw new Error(o.message||`Server Error (${n.status})`);o.success?(c.success("ÿ™ŸÖ ÿßŸÑÿ≠ÿ∞ŸÅ ÿ®ŸÜÿ¨ÿßÿ≠"),a(G=>G.filter(ae=>ae.id!==t))):c.error(o.message)}catch(n){console.error(n),c.error("ŸÅÿ¥ŸÑ ÿßŸÑÿ≠ÿ∞ŸÅ: "+n.message)}},Z=async t=>{try{const o=await(await fetch("/PETRODIESEL2/public/settings/save_role",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json();o.success?(c.success("ÿ™ŸÖ ÿ≠ŸÅÿ∏ ÿßŸÑÿØŸàÿ± ÿ®ŸÜÿ¨ÿßÿ≠"),setTimeout(()=>window.location.reload(),500)):c.error(o.message)}catch{c.error("ŸÅÿ¥ŸÑ ÿ≠ŸÅÿ∏ ÿßŸÑÿØŸàÿ±")}},ee=async t=>{try{const o=await(await fetch("/PETRODIESEL2/public/settings/delete_role",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})})).json();o.success?(c.success("ÿ™ŸÖ ÿ≠ÿ∞ŸÅ ÿßŸÑÿØŸàÿ± ÿ®ŸÜÿ¨ÿßÿ≠"),setTimeout(()=>window.location.reload(),500)):c.error(o.message)}catch{c.error("ŸÅÿ¥ŸÑ ÿ≠ÿ∞ŸÅ ÿßŸÑÿØŸàÿ±")}},se=async t=>{try{const o=await(await fetch("/PETRODIESEL2/public/settings/save_user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json();o.success?(c.success("ÿ™ŸÖ ÿ™ÿ≠ÿØŸäÿ´ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ"),setTimeout(()=>window.location.reload(),500)):c.error(o.message)}catch{c.error("ŸÅÿ¥ŸÑ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ")}},te=async t=>{try{const o=await(await fetch("/PETRODIESEL2/public/settings/create_user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json();o.success?(c.success("ÿ™ŸÖ ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿ®ŸÜÿ¨ÿßÿ≠"),setTimeout(()=>window.location.reload(),500)):c.error(o.message)}catch{c.error("ŸÅÿ¥ŸÑ ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ")}};return e.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},className:"p-6 max-w-[1800px] mx-auto space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-end mb-4",children:[e.jsx("div",{}),e.jsx("button",{onClick:u,disabled:v,className:"px-8 py-3 bg-emerald-600 text-white font-bold rounded-xl shadow-lg hover:bg-emerald-700 transition-all flex items-center gap-2",children:v?"ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ≠ŸÅÿ∏...":e.jsxs(e.Fragment,{children:[e.jsx(J,{className:"w-5 h-5"})," ÿ≠ŸÅÿ∏ ÿßŸÑÿ™ÿ∫ŸäŸäÿ±ÿßÿ™"]})})]}),e.jsxs(xe,{children:[e.jsxs(me,{className:"mt-4 bg-white p-1 rounded-2xl shadow-sm ring-1 ring-slate-200 w-fit overflow-x-auto",children:[e.jsx(E,{icon:ne,children:"ÿπÿßŸÖ"}),e.jsx(E,{icon:Y,children:"ÿ•ÿØÿßÿ±ÿ© ÿßŸÑŸÖÿ≠ÿ∑ÿßÿ™"}),e.jsx(E,{icon:V,children:"ÿßŸÑŸàŸÇŸàÿØ ŸàÿßŸÑÿ£ÿ≥ÿπÿßÿ±"}),e.jsx(E,{icon:L,children:"ÿßŸÑÿµŸÑÿßÿ≠Ÿäÿßÿ™ ŸàÿßŸÑÿ£ŸÖÿßŸÜ"}),e.jsx(E,{icon:B,children:"ÿßŸÑŸÜÿ≥ÿÆ ÿßŸÑÿßÿ≠ÿ™Ÿäÿßÿ∑Ÿä"})]}),e.jsxs(he,{children:[e.jsx(O,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6",children:[e.jsxs(C,{className:"rounded-2xl shadow-md ring-1 ring-slate-100 p-6 space-y-6",children:[e.jsxs(w,{className:"mb-4 font-bold flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5"})," ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ§ÿ≥ÿ≥ÿ©"]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 mb-1 block",children:"ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≠ÿ∑ÿ©"}),e.jsx(y,{value:d.station_name||"",onChange:t=>s("station_name",t.target.value),placeholder:"ŸÖÿ´ÿßŸÑ: ŸÖÿ≠ÿ∑ÿ© ÿ®ÿ™ÿ±ŸàÿØŸäÿ≤ŸÑ",className:"rounded-xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 mb-1 block",children:"ÿ±ŸÇŸÖ ÿßŸÑÿ≥ÿ¨ŸÑ ÿßŸÑÿ™ÿ¨ÿßÿ±Ÿä"}),e.jsx(y,{value:d.cr_number||"",onChange:t=>s("cr_number",t.target.value),placeholder:"70XXXXXXXX",className:"rounded-xl font-mono"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 mb-1 block",children:"ÿßŸÑÿ±ŸÇŸÖ ÿßŸÑÿ∂ÿ±Ÿäÿ®Ÿä VAT"}),e.jsx(y,{value:d.vat_number||"",onChange:t=>s("vat_number",t.target.value),placeholder:"3XXXXXXXXXXXXX",className:"rounded-xl font-mono"})]})]}),e.jsxs(C,{className:"rounded-2xl shadow-md ring-1 ring-slate-100 p-6 space-y-6",children:[e.jsxs(w,{className:"mb-4 font-bold flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5"})," ÿßŸÑŸÑÿ∫ÿ© ŸàÿßŸÑÿπŸÖŸÑÿ©"]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 mb-1 block",children:"ŸÑÿ∫ÿ© ÿßŸÑŸÜÿ∏ÿßŸÖ"}),e.jsxs(T,{value:d.language||"ar",onValueChange:t=>s("language",t),className:"rounded-xl",children:[e.jsx(x,{value:"ar",children:"ÿßŸÑÿπÿ±ÿ®Ÿäÿ© (Arabic)"}),e.jsx(x,{value:"en",children:"English (ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ©)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 mb-1 block",children:"ÿßŸÑÿπŸÖŸÑÿ© ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿäÿ©"}),e.jsxs(T,{value:d.currency||"SDG",onValueChange:t=>s("currency",t),className:"rounded-xl",children:[e.jsx(x,{value:"SDG",children:"ÿ¨ŸÜŸäŸá ÿ≥ŸàÿØÿßŸÜŸä (SDG)"}),e.jsx(x,{value:"SAR",children:"ÿ±ŸäÿßŸÑ ÿ≥ÿπŸàÿØŸä (SAR)"}),e.jsx(x,{value:"USD",children:"ÿØŸàŸÑÿßÿ± ÿ£ŸÖÿ±ŸäŸÉŸä (USD)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 mb-1 block",children:"ÿßŸÑŸÖŸÜÿ∑ŸÇÿ© ÿßŸÑÿ≤ŸÖŸÜŸäÿ© (Timezone)"}),e.jsxs(T,{value:d.timezone||"Africa/Khartoum",onValueChange:t=>s("timezone",t),className:"rounded-xl",children:[e.jsx(x,{value:"Africa/Khartoum",children:"üá∏üá© ÿßŸÑÿÆÿ±ÿ∑ŸàŸÖ (Khartoum)"}),e.jsx(x,{value:"Africa/Cairo",children:"üá™üá¨ ÿßŸÑŸÇÿßŸáÿ±ÿ© (Cairo)"}),e.jsx(x,{value:"Asia/Riyadh",children:"üá∏üá¶ ÿßŸÑÿ±Ÿäÿßÿ∂ (Riyadh)"}),e.jsx(x,{value:"Asia/Dubai",children:"üá¶üá™ ÿØÿ®Ÿä (Dubai)"}),e.jsx(x,{value:"Asia/Baghdad",children:"üáÆüá∂ ÿ®ÿ∫ÿØÿßÿØ (Baghdad)"}),e.jsx(x,{value:"Asia/Kuwait",children:"üá∞üáº ÿßŸÑŸÉŸàŸäÿ™ (Kuwait)"}),e.jsx(x,{value:"Africa/Tripoli",children:"üá±üáæ ÿ∑ÿ±ÿßÿ®ŸÑÿ≥ (Tripoli)"}),e.jsx(x,{value:"Asia/Beirut",children:"üá±üáß ÿ®Ÿäÿ±Ÿàÿ™ (Beirut)"})]}),e.jsx(P,{className:"text-xs text-slate-500 mt-2",children:"ŸäŸèÿ≥ÿ™ÿÆÿØŸÖ ŸÑÿ∂ÿ®ÿ∑ ÿßŸÑÿ™ÿßÿ±ŸäÿÆ ŸàÿßŸÑŸàŸÇÿ™ ŸÅŸä ÿßŸÑŸÖÿ®Ÿäÿπÿßÿ™ÿå ÿßŸÑŸÖÿ¥ÿ™ÿ±Ÿäÿßÿ™ÿå ŸàÿßŸÑÿ™ŸÇÿßÿ±Ÿäÿ±"})]}),d.currency!=="SAR"&&e.jsx(_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},children:e.jsx(P,{className:"text-xs text-slate-400 mt-1",children:"ÿ≥Ÿäÿ™ŸÖ ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ Ÿáÿ∞Ÿá ÿßŸÑÿπŸÖŸÑÿ© ŸÉÿπŸÖŸÑÿ© ÿ£ÿ≥ÿßÿ≥Ÿäÿ© ŸÑŸÑŸÜÿ∏ÿßŸÖ ÿ®ÿßŸÑŸÉÿßŸÖŸÑ"})})]}),e.jsxs(C,{className:"rounded-2xl shadow-md ring-1 ring-slate-100 p-6 space-y-6",children:[e.jsxs(w,{className:"mb-4 font-bold flex items-center gap-2",children:[e.jsx(B,{className:"w-5 h-5"})," ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ"]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Ÿàÿ∂ÿπ ÿßŸÑÿµŸäÿßŸÜÿ©"}),e.jsx(H,{checked:d.maintenance_mode==="1",onChange:t=>s("maintenance_mode",t?"1":"0")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-bold text-slate-700",children:"ÿ™ŸÅÿπŸäŸÑ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™"}),e.jsx(H,{checked:d.enable_notifications==="1",onChange:t=>s("enable_notifications",t?"1":"0")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 mb-1 block",children:"ÿßŸÑŸÇŸÅŸÑ ÿßŸÑÿ™ŸÑŸÇÿßÿ¶Ÿä (Auto Lock)"}),e.jsxs(T,{value:d.auto_lock_minutes||"0",onValueChange:t=>s("auto_lock_minutes",t),className:"rounded-xl",children:[e.jsx(x,{value:"0",children:"ŸÖÿπÿ∑ŸÑ (Disabled)"}),e.jsx(x,{value:"1",children:"ÿØŸÇŸäŸÇÿ© Ÿàÿßÿ≠ÿØÿ©"}),e.jsx(x,{value:"2",children:"ÿØŸÇŸäŸÇÿ™ÿßŸÜ"}),e.jsx(x,{value:"5",children:"5 ÿØŸÇÿßÿ¶ŸÇ"}),e.jsx(x,{value:"10",children:"10 ÿØŸÇÿßÿ¶ŸÇ"})]})]})]})]})}),e.jsx(O,{children:e.jsx("div",{className:"mt-6",children:e.jsx(be,{stations:l,users:r})})}),e.jsx(O,{children:e.jsx("div",{className:"mt-6 grid grid-cols-1 gap-6",children:e.jsxs(C,{className:"rounded-2xl shadow-md ring-1 ring-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx(w,{children:"ŸÇÿßÿ¶ŸÖÿ© ÿ£ŸÜŸàÿßÿπ ÿßŸÑŸàŸÇŸàÿØ"}),e.jsxs("button",{onClick:()=>{X(null),f(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-bold text-sm hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(Q,{className:"w-4 h-4"})," ŸÜŸàÿπ ÿ¨ÿØŸäÿØ"]})]}),e.jsx("div",{className:"space-y-4",children:h.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl border border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:t.color_hex+"20",color:t.color_hex},children:e.jsx(V,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-lg text-slate-700 block",children:t.name}),e.jsx("span",{className:"text-xs text-slate-400 font-sans",children:t.code})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-slate-400",children:"ÿßŸÑÿ≥ÿπÿ± ÿßŸÑÿ≠ÿßŸÑŸä"}),e.jsxs("p",{className:"font-bold font-mono text-lg text-navy-900",children:[t.price_per_liter," ",e.jsx("span",{className:"text-xs",children:d.currency||"SDG"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{X(t),f(!0)},className:"p-2 bg-white border border-slate-200 rounded-lg text-blue-600 hover:bg-blue-50 transition-all",children:e.jsx(z,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>U(t.id),className:"p-2 bg-white border border-slate-200 rounded-lg text-red-600 hover:bg-red-50 transition-all",children:e.jsx(R,{className:"w-4 h-4"})})]})]})]},t.id))})]})})}),e.jsx(O,{children:e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-8",children:[e.jsx(ue,{roles:i,onSave:Z,onDelete:ee}),e.jsx(pe,{users:r,roles:i,stations:l,onSave:se,onCreate:te})]})}),e.jsx(O,{children:e.jsx("div",{className:"mt-6 grid grid-cols-1 gap-6 text-center",children:e.jsxs(C,{className:"rounded-2xl shadow-md ring-1 ring-slate-100 py-12 flex flex-col items-center justify-center space-y-6 bg-slate-50/50",children:[e.jsx(re,{className:"w-20 h-20 text-slate-300"}),e.jsxs("div",{children:[e.jsx(w,{children:"ÿßŸÑŸÜÿ≥ÿÆ ÿßŸÑÿßÿ≠ÿ™Ÿäÿßÿ∑Ÿä ŸÑŸÑŸÜÿ∏ÿßŸÖ"}),e.jsx(P,{className:"mt-2",children:"ŸÇŸÖ ÿ®ÿ™ÿ≠ŸÖŸäŸÑ ŸÜÿ≥ÿÆÿ© ŸÉÿßŸÖŸÑÿ© ŸÖŸÜ ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÑŸÑÿ≠ŸÅÿßÿ∏ ÿπŸÑŸâ ÿ£ŸÖÿßŸÜ ÿ®ŸäÿßŸÜÿßÿ™ŸÉ"})]}),e.jsxs("a",{href:"/PETRODIESEL2/public/settings/backup",target:"_blank",className:"px-6 py-3 bg-navy-900 text-white font-bold rounded-xl shadow-lg hover:bg-navy-800 transition-all flex items-center gap-2",children:[e.jsx(ce,{className:"w-5 h-5"}),"ÿ™ÿ≠ŸÖŸäŸÑ ŸÜÿ≥ÿÆÿ© ÿßÿ≠ÿ™Ÿäÿßÿ∑Ÿäÿ© (SQL)"]})]})})})]})]}),e.jsx(je,{isOpen:N,onClose:()=>f(!1),fuel:D,onSave:I})]})}function je({isOpen:g,onClose:k,fuel:b,onSave:i}){const[m,l]=p.useState(""),[r,v]=p.useState(""),[j,d]=p.useState("#64748b");p.useEffect(()=>{b?(l(b.name),v(b.price_per_liter),d(b.color_hex)):(l(""),v(""),d("#64748b"))},[b,g]);const S=h=>{h.preventDefault(),i({id:b==null?void 0:b.id,name:m,price_per_liter:r,color_hex:j}),k()};return g?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",children:e.jsxs(_.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl shadow-xl p-6 w-full max-w-md",children:[e.jsx(w,{className:"mb-4",children:b?"ÿ™ÿπÿØŸäŸÑ ÿßŸÑŸàŸÇŸàÿØ":"ÿ•ÿ∂ÿßŸÅÿ© ŸàŸÇŸàÿØ ÿ¨ÿØŸäÿØ"}),e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"ÿßÿ≥ŸÖ ÿßŸÑŸàŸÇŸàÿØ"}),e.jsx(y,{value:m,onChange:h=>l(h.target.value),required:!0,placeholder:"ŸÖÿ´ÿßŸÑ: ÿ®ŸÜÿ≤ŸäŸÜ 98"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"ÿßŸÑÿ≥ÿπÿ± (ŸÑŸÉŸÑ ŸÑÿ™ÿ±)"}),e.jsx(y,{type:"number",step:"0.01",value:r,onChange:h=>v(h.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"ŸÑŸàŸÜ ÿßŸÑÿ™ŸÖŸäŸäÿ≤"}),e.jsx("div",{className:"flex gap-2",children:["#64748b","#ef4444","#f97316","#f59e0b","#10b981","#3b82f6","#8b5cf6","#ec4899"].map(h=>e.jsx("button",{type:"button",onClick:()=>d(h),className:`w-8 h-8 rounded-full border-2 ${j===h?"border-navy-900 scale-110":"border-transparent"}`,style:{backgroundColor:h}},h))})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"button",onClick:k,className:"flex-1 py-2 text-slate-500 font-bold hover:bg-slate-100 rounded-lg",children:"ÿ•ŸÑÿ∫ÿßÿ°"}),e.jsx("button",{type:"submit",className:"flex-1 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700",children:"ÿ≠ŸÅÿ∏"})]})]})]})}):null}export{we as default};
