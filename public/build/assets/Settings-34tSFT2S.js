import{j as e,P as W,ad as L,r as U,l as P,f as F,m as O,X as Y,al as $,a4 as ne,i as z,a1 as ie,t as r,c as V,a2 as Z,S as q,F as B,am as K,G as H,a0 as re,y as ce}from"./ui-BNY7rm5N.js";import{r as p}from"./vendor-BdFMDtQB.js";import{c as S,b as g,g as M,p as y,m as _,w as de,o as oe,v as E,f as c,j as xe,k as me,l as T,q as he,r as D,t as Q}from"./main-D6GHDm49.js";import be from"./StationList-CDyO89I8.js";function ue({roles:f=[],onSave:C,onDelete:b}){const[n,m]=p.useState(null),[a,d]=p.useState(!1),v=[{id:"sales.view",label:"ÿπÿ±ÿ∂ ÿßŸÑŸÖÿ®Ÿäÿπÿßÿ™"},{id:"sales.create",label:"ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿ®Ÿäÿπÿßÿ™"},{id:"sales.edit",label:"ÿ™ÿπÿØŸäŸÑ ÿßŸÑŸÖÿ®Ÿäÿπÿßÿ™"},{id:"sales.delete",label:"ÿ≠ÿ∞ŸÅ ÿßŸÑŸÖÿ®Ÿäÿπÿßÿ™"},{id:"purchases.view",label:"ÿπÿ±ÿ∂ ÿßŸÑŸÖÿ¥ÿ™ÿ±Ÿäÿßÿ™"},{id:"purchases.create",label:"ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿ¥ÿ™ÿ±Ÿäÿßÿ™"},{id:"purchases.edit",label:"ÿ™ÿπÿØŸäŸÑ ÿßŸÑŸÖÿ¥ÿ™ÿ±Ÿäÿßÿ™"},{id:"purchases.delete",label:"ÿ≠ÿ∞ŸÅ ÿßŸÑŸÖÿ¥ÿ™ÿ±Ÿäÿßÿ™"},{id:"inventory.view",label:"ÿπÿ±ÿ∂ ÿßŸÑŸÖÿÆÿ≤ŸàŸÜ"},{id:"inventory.create",label:"ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿÆÿ≤ŸàŸÜ"},{id:"inventory.edit",label:"ÿ™ÿπÿØŸäŸÑ ÿßŸÑŸÖÿÆÿ≤ŸàŸÜ"},{id:"inventory.delete",label:"ÿ≠ÿ∞ŸÅ ÿßŸÑŸÖÿÆÿ≤ŸàŸÜ"},{id:"finance.view",label:"ÿπÿ±ÿ∂ ÿßŸÑŸÖÿßŸÑŸäÿ©"},{id:"finance.create",label:"ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿßŸÑŸäÿ©"},{id:"finance.edit",label:"ÿ™ÿπÿØŸäŸÑ ÿßŸÑŸÖÿßŸÑŸäÿ©"},{id:"finance.delete",label:"ÿ≠ÿ∞ŸÅ ÿßŸÑŸÖÿßŸÑŸäÿ©"},{id:"hr.view",label:"ÿπÿ±ÿ∂ ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ"},{id:"hr.create",label:"ÿ•ÿ∂ÿßŸÅÿ© ŸÖŸàÿ∏ŸÅŸäŸÜ"},{id:"hr.edit",label:"ÿ™ÿπÿØŸäŸÑ ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ"},{id:"hr.delete",label:"ÿ≠ÿ∞ŸÅ ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ"},{id:"settings.view",label:"ÿπÿ±ÿ∂ ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™"},{id:"settings.edit",label:"ÿ™ÿπÿØŸäŸÑ ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™"},{id:"reports.view",label:"ÿπÿ±ÿ∂ ÿßŸÑÿ™ŸÇÿßÿ±Ÿäÿ±"},{id:"reports.export",label:"ÿ™ÿµÿØŸäÿ± ÿßŸÑÿ™ŸÇÿßÿ±Ÿäÿ±"}],j=t=>{let u=[];try{u=typeof t.permissions=="string"?JSON.parse(t.permissions):t.permissions}catch{u=[]}const I=u.includes("*");m({...t,_permissions:new Set(u),isSuper:I}),d(!0)},o=()=>{m({id:null,name:"",description:"",_permissions:new Set,isSuper:!1}),d(!0)},k=t=>{if(n.isSuper)return;const u=new Set(n._permissions);u.has(t)?u.delete(t):u.add(t),m({...n,_permissions:u})},h=()=>{m(t=>({...t,isSuper:!t.isSuper,_permissions:t.isSuper?new Set:new Set(["*"])}))},l=()=>{if(!n.name){r.error("ÿßÿ≥ŸÖ ÿßŸÑÿØŸàÿ± ŸÖÿ∑ŸÑŸàÿ®");return}const t=n.isSuper?["*"]:Array.from(n._permissions);C({id:n.id,name:n.name,description:n.description,permissions:t}),d(!1)},[w,N]=p.useState({isOpen:!1,roleId:null,roleName:""}),R=t=>{N({isOpen:!0,roleId:t.id,roleName:t.name})},X=()=>{b&&w.roleId&&(b(w.roleId),N({isOpen:!1,roleId:null,roleName:""}),d(!1))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(S,{className:"rounded-2xl shadow-md ring-1 ring-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx(g,{children:"ÿ£ÿØŸàÿßÿ± ÿßŸÑŸÜÿ∏ÿßŸÖ ŸàÿßŸÑÿµŸÑÿßÿ≠Ÿäÿßÿ™"}),e.jsxs("button",{onClick:o,className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-bold text-sm hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4"})," ÿØŸàÿ± ÿ¨ÿØŸäÿØ"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:f.map(t=>e.jsxs("div",{className:"p-4 border border-slate-200 rounded-xl hover:shadow-md transition-shadow bg-white relative group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:`w-5 h-5 ${t.is_system==1?"text-amber-500":"text-blue-500"}`}),e.jsx("h3",{className:"font-bold text-lg text-slate-800",children:t.name})]}),e.jsxs("div",{className:"flex gap-2 opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>j(t),className:"p-1.5 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",title:"ÿ™ÿπÿØŸäŸÑ",children:e.jsx(U,{className:"w-4 h-4"})}),t.is_system!=1&&e.jsx("button",{onClick:()=>R(t),className:"p-1.5 text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition-colors",title:"ÿ≠ÿ∞ŸÅ",children:e.jsx(P,{className:"w-4 h-4"})})]})]}),e.jsx("p",{className:"text-sm text-slate-500 mb-4 h-10 line-clamp-2",children:t.description||"ŸÑÿß ŸäŸàÿ¨ÿØ ŸàÿµŸÅ"}),e.jsxs("div",{className:"flex justify-between items-center mt-2 pt-2 border-t border-slate-50",children:[e.jsx(M,{size:"xs",color:t.is_system==1?"amber":"slate",children:t.is_system==1?"ŸÜÿ∏ÿßŸÖ":"ŸÖÿÆÿµÿµ"}),e.jsxs("span",{className:"text-xs text-slate-400 font-mono",children:["ID: ",t.id]})]})]},t.id))})]}),e.jsx(F,{children:a&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",children:e.jsxs(O.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl shadow-xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[e.jsx(g,{children:n.id?"ÿ™ÿπÿØŸäŸÑ ÿßŸÑÿØŸàÿ±":"ÿ•ŸÜÿ¥ÿßÿ° ÿØŸàÿ± ÿ¨ÿØŸäÿØ"}),e.jsx("button",{onClick:()=>d(!1),className:"text-slate-400 hover:text-slate-600",children:e.jsx(Y,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"ÿßÿ≥ŸÖ ÿßŸÑÿØŸàÿ±"}),e.jsx(y,{value:n.name,onChange:t=>m({...n,name:t.target.value}),placeholder:"ŸÖÿ´ÿßŸÑ: ŸÖÿØŸäÿ± ŸÖÿ®Ÿäÿπÿßÿ™"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"ÿßŸÑŸàÿµŸÅ"}),e.jsx(y,{value:n.description,onChange:t=>m({...n,description:t.target.value}),placeholder:"ŸàÿµŸÅ ŸÖÿÆÿ™ÿµÿ±..."})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-amber-50 rounded-xl border border-amber-100",children:[e.jsx(L,{className:"w-6 h-6 text-amber-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-amber-900",children:"ÿµŸÑÿßÿ≠Ÿäÿßÿ™ ŸÉÿßŸÖŸÑÿ© (Super Admin)"}),e.jsx("p",{className:"text-xs text-amber-700",children:"ŸÖŸÜÿ≠ Ÿáÿ∞ÿß ÿßŸÑÿØŸàÿ± ÿ¨ŸÖŸäÿπ ÿßŸÑÿµŸÑÿßÿ≠Ÿäÿßÿ™ ŸÅŸä ÿßŸÑŸÜÿ∏ÿßŸÖ ÿØŸàŸÜ ÿßÿ≥ÿ™ÿ´ŸÜÿßÿ°."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:n.isSuper,onChange:h}),e.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-amber-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-600"})]})]}),!n.isSuper&&e.jsxs("div",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50/50",children:[e.jsxs("h4",{className:"font-bold text-slate-700 mb-3 flex items-center gap-2",children:[e.jsx($,{className:"w-4 h-4 text-slate-500"})," ÿ™ÿ≠ÿØŸäÿØ ÿßŸÑÿµŸÑÿßÿ≠Ÿäÿßÿ™ ÿßŸÑÿØŸÇŸäŸÇÿ©"]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:v.map(t=>{const u=n._permissions.has(t.id);return e.jsxs("div",{onClick:()=>k(t.id),className:`
                                                            cursor-pointer select-none px-3 py-2 rounded-lg border text-xs font-bold flex items-center gap-2 transition-all
                                                            ${u?"bg-blue-600 border-blue-600 text-white shadow-sm":"bg-white border-slate-200 text-slate-600 hover:border-blue-300 hover:bg-white"}
                                                        `,children:[e.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${u?"bg-white/20 border-transparent":"border-slate-300"}`,children:u&&e.jsx(ne,{className:"w-3 h-3 text-white"})}),t.label]},t.id)})})]})]}),e.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50 flex justify-between gap-3",children:[e.jsx("div",{children:n.id&&n.is_system!=1&&e.jsxs("button",{onClick:()=>R(n),className:"px-4 py-2 rounded-xl font-bold text-red-600 bg-red-50 hover:bg-red-100 transition-colors flex items-center gap-2",children:[e.jsx(P,{className:"w-4 h-4"})," ÿ≠ÿ∞ŸÅ ÿßŸÑÿØŸàÿ±"]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>d(!1),className:"px-6 py-2 rounded-xl font-bold text-slate-500 hover:bg-slate-200 transition-colors",children:"ÿ•ŸÑÿ∫ÿßÿ°"}),e.jsxs("button",{onClick:l,className:"px-8 py-2 rounded-xl font-bold bg-blue-600 text-white shadow-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(z,{className:"w-5 h-5"})," ÿ≠ŸÅÿ∏ ÿßŸÑÿØŸàÿ±"]})]})]})]})})}),e.jsx(F,{children:w.isOpen&&e.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",children:e.jsxs(O.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:[e.jsxs("div",{className:"p-6 text-center space-y-4",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(ie,{className:"w-8 h-8 text-red-600"})}),e.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"ÿ≠ÿ∞ŸÅ ÿßŸÑÿØŸàÿ±"}),e.jsxs("p",{className:"text-slate-500",children:["ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ≠ÿ∞ŸÅ ÿßŸÑÿØŸàÿ± ",e.jsxs("span",{className:"font-bold text-slate-800",children:['"',w.roleName,'"']}),"ÿü",e.jsx("br",{}),"ŸÑÿß ŸäŸÖŸÉŸÜ ÿßŸÑÿ™ÿ±ÿßÿ¨ÿπ ÿπŸÜ Ÿáÿ∞ÿß ÿßŸÑÿ•ÿ¨ÿ±ÿßÿ°ÿå Ÿàÿ≥Ÿäÿ™ŸÖ ÿ•ÿ≤ÿßŸÑÿ© ÿßŸÑÿµŸÑÿßÿ≠Ÿäÿßÿ™ ŸÖŸÜ ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖŸäŸÜ ÿßŸÑŸÖÿ±ÿ™ÿ®ÿ∑ŸäŸÜ ÿ®Ÿá."]})]}),e.jsxs("div",{className:"p-6 bg-slate-50 flex gap-3 justify-center border-t border-slate-100",children:[e.jsx("button",{onClick:()=>N({isOpen:!1,roleId:null,roleName:""}),className:"px-6 py-2 rounded-xl font-bold text-slate-500 hover:bg-slate-200 transition-colors",children:"ÿ•ŸÑÿ∫ÿßÿ°"}),e.jsxs("button",{onClick:X,className:"px-6 py-2 rounded-xl font-bold bg-red-600 text-white shadow-lg hover:bg-red-700 transition-colors flex items-center gap-2",children:[e.jsx(P,{className:"w-4 h-4"})," ŸÜÿπŸÖÿå ÿ≠ÿ∞ŸÅ"]})]})]})})})]})}function pe({users:f=[],roles:C=[],stations:b=[],onSave:n,onCreate:m}){const[a,d]=p.useState(null),[v,j]=p.useState(!1),o=l=>{const w=l.stations?l.stations.map(N=>String(N.id)):l.station_id?[String(l.station_id)]:[];d({...l,station_ids:w,mode:"edit"}),j(!0)},k=()=>{d({id:null,name:"",email:"",password:"",role_id:"",station_ids:[],status:"active",mode:"create"}),j(!0)},h=()=>{if(a){if(a.mode==="create"){if(!a.name||!a.email||!a.password){r.error("ÿßŸÑÿßÿ≥ŸÖÿå ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸäÿå ŸàŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ± ŸÖÿ∑ŸÑŸàÿ®ÿ©");return}m&&m(a)}else n(a);j(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(S,{className:"rounded-2xl shadow-md ring-1 ring-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{children:"ÿ•ÿØÿßÿ±ÿ© ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖŸäŸÜ Ÿàÿ™ÿπŸäŸäŸÜ ÿßŸÑÿ£ÿØŸàÿßÿ±"}),e.jsxs(M,{color:"blue",children:[f.length," ŸÖÿ≥ÿ™ÿÆÿØŸÖ"]})]}),e.jsxs("button",{onClick:k,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg font-bold text-sm hover:bg-emerald-700 flex items-center gap-2 shadow-sm transition-all",children:[e.jsx(V,{className:"w-4 h-4"})," ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿ¨ÿØŸäÿØ"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-right",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-bold border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ"}),e.jsx("th",{className:"p-4",children:"ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä"}),e.jsx("th",{className:"p-4",children:"ÿßŸÑŸÖÿ≠ÿ∑ÿ© (ŸÖŸÉÿßŸÜ ÿßŸÑÿπŸÖŸÑ)"}),e.jsx("th",{className:"p-4",children:"ÿßŸÑÿØŸàÿ± (ÿßŸÑÿµŸÑÿßÿ≠Ÿäÿ©)"}),e.jsx("th",{className:"p-4",children:"ÿßŸÑÿ≠ÿßŸÑÿ©"}),e.jsx("th",{className:"p-4",children:"ÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100 text-sm",children:f.map(l=>{const w=l.role_name||(l.role==="super_admin"?"ŸÖÿØŸäÿ± ÿπÿßŸÖ (Legacy)":l.role),N=l.station_name||"ÿπÿßŸÖ / ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿ≠ÿ∑ÿßÿ™";return e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[e.jsxs("td",{className:"p-4 font-bold text-slate-800 flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold",children:l.name.charAt(0).toUpperCase()}),l.name]}),e.jsx("td",{className:"p-4 text-slate-500 font-mono",children:l.email}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-bold ${l.station_id?"bg-sky-50 text-sky-700":"bg-purple-50 text-purple-700"}`,children:[e.jsx(Z,{className:"w-3 h-3"}),N]})}),e.jsx("td",{className:"p-4",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-bold ${l.role_id?"bg-emerald-50 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:[e.jsx($,{className:"w-3 h-3"}),w]})}),e.jsx("td",{className:"p-4",children:e.jsx(M,{size:"xs",color:l.status==="active"?"emerald":"red",children:l.status==="active"?"ŸÜÿ¥ÿ∑":"ÿ∫Ÿäÿ± ŸÜÿ¥ÿ∑"})}),e.jsx("td",{className:"p-4",children:e.jsx("button",{onClick:()=>o(l),className:"p-2 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:e.jsx(U,{className:"w-4 h-4"})})})]},l.id)})})]})})]}),e.jsx(F,{children:v&&a&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",children:e.jsxs(O.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center",children:e.jsx(V,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx(g,{children:a.mode==="create"?"ÿ•ÿ∂ÿßŸÅÿ© ŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿ¨ÿØŸäÿØ":a.name}),e.jsx(_,{className:"text-xs",children:a.mode==="create"?"ÿ£ÿØÿÆŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ¨ÿØŸäÿØ":a.email})]})]}),e.jsx("button",{onClick:()=>j(!1),className:"text-slate-400 hover:text-slate-600",children:e.jsx(Y,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[a.mode==="create"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ"}),e.jsx(y,{value:a.name,onChange:l=>d({...a,name:l.target.value}),placeholder:"ÿßŸÑÿßÿ≥ŸÖ ÿßŸÑŸÉÿßŸÖŸÑ"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä"}),e.jsx(y,{value:a.email,onChange:l=>d({...a,email:l.target.value}),placeholder:"example@email.com"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ± (Secret)"}),e.jsx(y,{type:"password",value:a.password,onChange:l=>d({...a,password:l.target.value}),placeholder:"********"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"ŸÖŸÜÿßÿ∑ŸÇ ÿßŸÑÿπŸÖŸÑ (ÿßŸÑŸÖÿ≠ÿ∑ÿßÿ™)"}),e.jsx(de,{value:a.station_ids||[],onValueChange:l=>d({...a,station_ids:l}),placeholder:"ÿßÿÆÿ™ÿ± ÿßŸÑŸÖÿ≠ÿ∑ÿßÿ™...",children:b.map(l=>e.jsx(oe,{value:String(l.id),children:l.name},l.id))}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"ÿ™ÿ≠ÿØŸäÿØ ÿßŸÑŸÖÿ≠ÿ∑ÿ© ŸäŸÇŸäÿØ ŸàÿµŸàŸÑ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ŸÑÿ®ŸäÿßŸÜÿßÿ™ Ÿáÿ∞Ÿá ÿßŸÑŸÖÿ≠ÿ∑ÿ© ŸÅŸÇÿ∑. ÿ™ÿ±ŸÉŸá ŸÅÿßÿ±ÿ∫ÿßŸã ŸäÿπŸÜŸä ÿßŸÑŸàÿµŸàŸÑ ŸÑÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿ≠ÿ∑ÿßÿ™ (ÿ•ÿØÿßÿ±ÿ© ŸÖÿ±ŸÉÿ≤Ÿäÿ©)."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"ÿßŸÑÿØŸàÿ± ÿßŸÑŸàÿ∏ŸäŸÅŸä (ÿßŸÑÿµŸÑÿßÿ≠Ÿäÿßÿ™)"}),e.jsxs(E,{value:String(a.role_id||"0"),onValueChange:l=>d({...a,role_id:l==="0"?null:l}),children:[e.jsx(c,{value:"0",children:"ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ (ÿµŸÑÿßÿ≠Ÿäÿßÿ™ ÿßŸÅÿ™ÿ±ÿßÿ∂Ÿäÿ©)"}),C.map(l=>e.jsx(c,{value:String(l.id),icon:$,children:l.name},l.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"ÿ≠ÿßŸÑÿ© ÿßŸÑÿ≠ÿ≥ÿßÿ®"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-3 border rounded-xl flex-1 hover:bg-emerald-50 peer-checked:border-emerald-500",children:[e.jsx("input",{type:"radio",name:"status",checked:a.status==="active",onChange:()=>d({...a,status:"active"}),className:"w-4 h-4 text-emerald-600"}),e.jsx("span",{className:"font-bold text-emerald-700",children:"ŸÜÿ¥ÿ∑ (Active)"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-3 border rounded-xl flex-1 hover:bg-red-50",children:[e.jsx("input",{type:"radio",name:"status",checked:a.status==="inactive",onChange:()=>d({...a,status:"inactive"}),className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"font-bold text-red-700",children:"ŸÖŸàŸÇŸàŸÅ (Inactive)"})]})]})]})]}),e.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>j(!1),className:"px-6 py-2 rounded-xl font-bold text-slate-500 hover:bg-slate-200 transition-colors",children:"ÿ•ŸÑÿ∫ÿßÿ°"}),e.jsxs("button",{onClick:h,className:"px-8 py-2 rounded-xl font-bold bg-blue-600 text-white shadow-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(z,{className:"w-5 h-5"})," ÿ≠ŸÅÿ∏ ÿßŸÑÿ™ÿπÿØŸäŸÑÿßÿ™"]})]})]})})})]})}function we({general:f={},fuel:C={},alerts:b={},roles:n=[],fuelTypes:m=[],stations:a=[],users:d=[]}){const[v,j]=p.useState(!1),[o,k]=p.useState(f),[h,l]=p.useState(m),[w,N]=p.useState(!1),[R,X]=p.useState(null);p.useEffect(()=>{k(f),l(m)},[f,m]);const t=(s,i)=>{k({...o,[s]:i})},u=async()=>{j(!0);try{const s=new FormData;s.append("section","general"),Object.entries(o).forEach(([i,x])=>s.append(i,x)),await fetch("/PETRODIESEL2/public/settings/update",{method:"POST",body:s}),r.success("ÿ™ŸÖ ÿ≠ŸÅÿ∏ ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑÿπÿßŸÖÿ© ÿ®ŸÜÿ¨ÿßÿ≠"),setTimeout(()=>window.location.reload(),1e3)}catch{r.error("ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ≠ŸÅÿ∏")}finally{j(!1)}},I=async s=>{try{const i=await fetch("/PETRODIESEL2/public/settings/save_fuel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!i.ok){const A=await i.text();throw console.error("Server Error:",A),new Error(`Server responded with ${i.status}`)}const x=await i.json();x.success?(r.success("ÿ™ŸÖ ÿ≠ŸÅÿ∏ ŸÜŸàÿπ ÿßŸÑŸàŸÇŸàÿØ"),setTimeout(()=>window.location.reload(),500)):r.error(x.message)}catch(i){console.error(i),r.error("ŸÅÿ¥ŸÑ ÿ≠ŸÅÿ∏ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™: "+i.message)}},G=async s=>{if(confirm("ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ≠ÿ∞ŸÅ Ÿáÿ∞ÿß ÿßŸÑŸÜŸàÿπÿü"))try{const i=await fetch("/PETRODIESEL2/public/settings/delete_fuel",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({id:s})});let x;const A=await i.text();try{x=JSON.parse(A)}catch{throw new Error("Server returned invalid JSON: "+A.substring(0,100))}if(!i.ok)throw new Error(x.message||`Server Error (${i.status})`);x.success?(r.success("ÿ™ŸÖ ÿßŸÑÿ≠ÿ∞ŸÅ ÿ®ŸÜÿ¨ÿßÿ≠"),l(J=>J.filter(ae=>ae.id!==s))):r.error(x.message)}catch(i){console.error(i),r.error("ŸÅÿ¥ŸÑ ÿßŸÑÿ≠ÿ∞ŸÅ: "+i.message)}},ee=async s=>{try{const x=await(await fetch("/PETRODIESEL2/public/settings/save_role",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).json();x.success?(r.success("ÿ™ŸÖ ÿ≠ŸÅÿ∏ ÿßŸÑÿØŸàÿ± ÿ®ŸÜÿ¨ÿßÿ≠"),setTimeout(()=>window.location.reload(),500)):r.error(x.message)}catch{r.error("ŸÅÿ¥ŸÑ ÿ≠ŸÅÿ∏ ÿßŸÑÿØŸàÿ±")}},se=async s=>{try{const x=await(await fetch("/PETRODIESEL2/public/settings/delete_role",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s})})).json();x.success?(r.success("ÿ™ŸÖ ÿ≠ÿ∞ŸÅ ÿßŸÑÿØŸàÿ± ÿ®ŸÜÿ¨ÿßÿ≠"),setTimeout(()=>window.location.reload(),500)):r.error(x.message)}catch{r.error("ŸÅÿ¥ŸÑ ÿ≠ÿ∞ŸÅ ÿßŸÑÿØŸàÿ±")}},te=async s=>{try{const x=await(await fetch("/PETRODIESEL2/public/settings/save_user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).json();x.success?(r.success("ÿ™ŸÖ ÿ™ÿ≠ÿØŸäÿ´ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ"),setTimeout(()=>window.location.reload(),500)):r.error(x.message)}catch{r.error("ŸÅÿ¥ŸÑ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ")}},le=async s=>{try{const x=await(await fetch("/PETRODIESEL2/public/settings/create_user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).json();x.success?(r.success("ÿ™ŸÖ ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿ®ŸÜÿ¨ÿßÿ≠"),setTimeout(()=>window.location.reload(),500)):r.error(x.message)}catch{r.error("ŸÅÿ¥ŸÑ ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ")}};return e.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},className:"p-6 max-w-[1800px] mx-auto space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-end mb-4",children:[e.jsx("div",{}),e.jsx("button",{onClick:u,disabled:v,className:"px-8 py-3 bg-emerald-600 text-white font-bold rounded-xl shadow-lg hover:bg-emerald-700 transition-all flex items-center gap-2",children:v?"ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ≠ŸÅÿ∏...":e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-5 h-5"})," ÿ≠ŸÅÿ∏ ÿßŸÑÿ™ÿ∫ŸäŸäÿ±ÿßÿ™"]})})]}),e.jsxs(xe,{children:[e.jsxs(me,{className:"mt-4 bg-white p-1 rounded-2xl shadow-sm ring-1 ring-slate-200 w-fit overflow-x-auto",children:[e.jsx(T,{icon:q,children:"ÿπÿßŸÖ"}),e.jsx(T,{icon:Z,children:"ÿ•ÿØÿßÿ±ÿ© ÿßŸÑŸÖÿ≠ÿ∑ÿßÿ™"}),e.jsx(T,{icon:B,children:"ÿßŸÑŸàŸÇŸàÿØ ŸàÿßŸÑÿ£ÿ≥ÿπÿßÿ±"}),e.jsx(T,{icon:L,children:"ÿßŸÑÿµŸÑÿßÿ≠Ÿäÿßÿ™ ŸàÿßŸÑÿ£ŸÖÿßŸÜ"}),e.jsx(T,{icon:K,children:"ÿßŸÑŸÜÿ≥ÿÆ ÿßŸÑÿßÿ≠ÿ™Ÿäÿßÿ∑Ÿä"})]}),e.jsxs(he,{children:[e.jsx(D,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6",children:[e.jsxs(S,{className:"rounded-2xl shadow-md ring-1 ring-slate-100 p-6 space-y-6",children:[e.jsxs(g,{className:"mb-4 font-bold flex items-center gap-2",children:[e.jsx(H,{className:"w-5 h-5"})," ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ§ÿ≥ÿ≥ÿ©"]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 mb-1 block",children:"ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≠ÿ∑ÿ©"}),e.jsx(y,{value:o.station_name||"",onChange:s=>t("station_name",s.target.value),placeholder:"ŸÖÿ´ÿßŸÑ: ŸÖÿ≠ÿ∑ÿ© ÿ®ÿ™ÿ±ŸàÿØŸäÿ≤ŸÑ",className:"rounded-xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 mb-1 block",children:"ÿ±ŸÇŸÖ ÿßŸÑÿ≥ÿ¨ŸÑ ÿßŸÑÿ™ÿ¨ÿßÿ±Ÿä"}),e.jsx(y,{value:o.cr_number||"",onChange:s=>t("cr_number",s.target.value),placeholder:"70XXXXXXXX",className:"rounded-xl font-mono"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 mb-1 block",children:"ÿßŸÑÿ±ŸÇŸÖ ÿßŸÑÿ∂ÿ±Ÿäÿ®Ÿä VAT"}),e.jsx(y,{value:o.vat_number||"",onChange:s=>t("vat_number",s.target.value),placeholder:"3XXXXXXXXXXXXX",className:"rounded-xl font-mono"})]})]}),e.jsxs(S,{className:"rounded-2xl shadow-md ring-1 ring-slate-100 p-6 space-y-6",children:[e.jsxs(g,{className:"mb-4 font-bold flex items-center gap-2",children:[e.jsx(H,{className:"w-5 h-5"})," ÿßŸÑŸÑÿ∫ÿ© ŸàÿßŸÑÿπŸÖŸÑÿ©"]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 mb-1 block",children:"ŸÑÿ∫ÿ© ÿßŸÑŸÜÿ∏ÿßŸÖ"}),e.jsxs(E,{value:o.language||"ar",onValueChange:s=>t("language",s),className:"rounded-xl",children:[e.jsx(c,{value:"ar",children:"ÿßŸÑÿπÿ±ÿ®Ÿäÿ© (Arabic)"}),e.jsx(c,{value:"en",children:"English (ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ©)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 mb-1 block",children:"ÿßŸÑÿπŸÖŸÑÿ© ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿäÿ©"}),e.jsxs(E,{value:o.currency||"SDG",onValueChange:s=>t("currency",s),className:"rounded-xl",children:[e.jsx(c,{value:"SDG",children:"ÿ¨ŸÜŸäŸá ÿ≥ŸàÿØÿßŸÜŸä (SDG)"}),e.jsx(c,{value:"SAR",children:"ÿ±ŸäÿßŸÑ ÿ≥ÿπŸàÿØŸä (SAR)"}),e.jsx(c,{value:"USD",children:"ÿØŸàŸÑÿßÿ± ÿ£ŸÖÿ±ŸäŸÉŸä (USD)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 mb-1 block",children:"ÿßŸÑŸÖŸÜÿ∑ŸÇÿ© ÿßŸÑÿ≤ŸÖŸÜŸäÿ© (Timezone)"}),e.jsxs(E,{value:o.timezone||"Africa/Khartoum",onValueChange:s=>t("timezone",s),className:"rounded-xl",children:[e.jsx(c,{value:"Africa/Khartoum",children:"üá∏üá© ÿßŸÑÿÆÿ±ÿ∑ŸàŸÖ (Khartoum)"}),e.jsx(c,{value:"Africa/Cairo",children:"üá™üá¨ ÿßŸÑŸÇÿßŸáÿ±ÿ© (Cairo)"}),e.jsx(c,{value:"Asia/Riyadh",children:"üá∏üá¶ ÿßŸÑÿ±Ÿäÿßÿ∂ (Riyadh)"}),e.jsx(c,{value:"Asia/Dubai",children:"üá¶üá™ ÿØÿ®Ÿä (Dubai)"}),e.jsx(c,{value:"Asia/Baghdad",children:"üáÆüá∂ ÿ®ÿ∫ÿØÿßÿØ (Baghdad)"}),e.jsx(c,{value:"Asia/Kuwait",children:"üá∞üáº ÿßŸÑŸÉŸàŸäÿ™ (Kuwait)"}),e.jsx(c,{value:"Africa/Tripoli",children:"üá±üáæ ÿ∑ÿ±ÿßÿ®ŸÑÿ≥ (Tripoli)"}),e.jsx(c,{value:"Asia/Beirut",children:"üá±üáß ÿ®Ÿäÿ±Ÿàÿ™ (Beirut)"})]}),e.jsx(_,{className:"text-xs text-slate-500 mt-2",children:"ŸäŸèÿ≥ÿ™ÿÆÿØŸÖ ŸÑÿ∂ÿ®ÿ∑ ÿßŸÑÿ™ÿßÿ±ŸäÿÆ ŸàÿßŸÑŸàŸÇÿ™ ŸÅŸä ÿßŸÑŸÖÿ®Ÿäÿπÿßÿ™ÿå ÿßŸÑŸÖÿ¥ÿ™ÿ±Ÿäÿßÿ™ÿå ŸàÿßŸÑÿ™ŸÇÿßÿ±Ÿäÿ±"})]}),o.currency!=="SAR"&&e.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},children:e.jsx(_,{className:"text-xs text-slate-400 mt-1",children:"ÿ≥Ÿäÿ™ŸÖ ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ Ÿáÿ∞Ÿá ÿßŸÑÿπŸÖŸÑÿ© ŸÉÿπŸÖŸÑÿ© ÿ£ÿ≥ÿßÿ≥Ÿäÿ© ŸÑŸÑŸÜÿ∏ÿßŸÖ ÿ®ÿßŸÑŸÉÿßŸÖŸÑ"})})]}),e.jsxs(S,{className:"rounded-2xl shadow-md ring-1 ring-slate-100 p-6 space-y-6",children:[e.jsxs(g,{className:"mb-4 font-bold flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5"})," ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ"]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Ÿàÿ∂ÿπ ÿßŸÑÿµŸäÿßŸÜÿ©"}),e.jsx(Q,{checked:o.maintenance_mode==="1",onChange:s=>t("maintenance_mode",s?"1":"0")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-bold text-slate-700",children:"ÿ™ŸÅÿπŸäŸÑ ÿßŸÑÿ•ÿ¥ÿπÿßÿ±ÿßÿ™"}),e.jsx(Q,{checked:o.enable_notifications==="1",onChange:s=>t("enable_notifications",s?"1":"0")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 mb-1 block",children:"ÿßŸÑŸÇŸÅŸÑ ÿßŸÑÿ™ŸÑŸÇÿßÿ¶Ÿä (Auto Lock)"}),e.jsxs(E,{value:o.auto_lock_minutes||"0",onValueChange:s=>t("auto_lock_minutes",s),className:"rounded-xl",children:[e.jsx(c,{value:"0",children:"ŸÖÿπÿ∑ŸÑ (Disabled)"}),e.jsx(c,{value:"1",children:"ÿØŸÇŸäŸÇÿ© Ÿàÿßÿ≠ÿØÿ©"}),e.jsx(c,{value:"2",children:"ÿØŸÇŸäŸÇÿ™ÿßŸÜ"}),e.jsx(c,{value:"5",children:"5 ÿØŸÇÿßÿ¶ŸÇ"}),e.jsx(c,{value:"10",children:"10 ÿØŸÇÿßÿ¶ŸÇ"})]})]})]})]})}),e.jsx(D,{children:e.jsx("div",{className:"mt-6",children:e.jsx(be,{stations:a,users:d})})}),e.jsx(D,{children:e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-6",children:[e.jsxs(S,{className:"rounded-2xl shadow-md ring-1 ring-slate-100 p-6 space-y-6",children:[e.jsxs(g,{className:"mb-4 font-bold flex items-center gap-2",children:[e.jsx(q,{className:"w-5 h-5"})," ÿ•ÿπÿØÿßÿØÿßÿ™ ÿßŸÑÿπÿ±ÿ∂ ŸàÿßŸÑŸÇŸäÿßÿ≥"]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 mb-1 block",children:"Ÿàÿ≠ÿØÿ© ÿπÿ±ÿ∂ ÿßŸÑŸÉŸÖŸäÿßÿ™ (Fuel Volume Unit)"}),e.jsxs(E,{value:o.volume_display_mode||"liters",onValueChange:s=>t("volume_display_mode",s),className:"rounded-xl",children:[e.jsx(c,{value:"liters",children:"ŸÑÿ™ÿ± ŸÅŸÇÿ∑ (Liters Only)"}),e.jsx(c,{value:"gallons",children:"ÿ¨ÿßŸÑŸàŸÜ ŸÅŸÇÿ∑ (Gallons Only)"}),e.jsx(c,{value:"both",children:"ŸÉŸÑÿßŸáŸÖÿß (ŸÑÿ™ÿ± + ÿ¨ÿßŸÑŸàŸÜ)"})]}),e.jsx(_,{className:"text-xs text-slate-500 mt-2",children:"ÿ≥Ÿäÿ™ŸÖ ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ŸÖÿπÿßŸÖŸÑ ÿßŸÑÿ™ÿ≠ŸàŸäŸÑ: 1 ÿ¨ÿßŸÑŸàŸÜ = 4.5 ŸÑÿ™ÿ±"})]})]}),e.jsxs(S,{className:"rounded-2xl shadow-md ring-1 ring-slate-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx(g,{children:"ŸÇÿßÿ¶ŸÖÿ© ÿ£ŸÜŸàÿßÿπ ÿßŸÑŸàŸÇŸàÿØ"}),e.jsxs("button",{onClick:()=>{X(null),N(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-bold text-sm hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4"})," ŸÜŸàÿπ ÿ¨ÿØŸäÿØ"]})]}),e.jsx("div",{className:"space-y-4",children:h.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl border border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:s.color_hex+"20",color:s.color_hex},children:e.jsx(B,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-lg text-slate-700 block",children:s.name}),e.jsx("span",{className:"text-xs text-slate-400 font-sans",children:s.code})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-slate-400",children:"ÿßŸÑÿ≥ÿπÿ± ÿßŸÑÿ≠ÿßŸÑŸä"}),e.jsxs("p",{className:"font-bold font-mono text-lg text-navy-900",children:[s.price_per_liter," ",e.jsx("span",{className:"text-xs",children:o.currency||"SDG"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{X(s),N(!0)},className:"p-2 bg-white border border-slate-200 rounded-lg text-blue-600 hover:bg-blue-50 transition-all",children:e.jsx(U,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>G(s.id),className:"p-2 bg-white border border-slate-200 rounded-lg text-red-600 hover:bg-red-50 transition-all",children:e.jsx(P,{className:"w-4 h-4"})})]})]})]},s.id))})]})]})}),e.jsx(D,{children:e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-8",children:[e.jsx(ue,{roles:n,onSave:ee,onDelete:se}),e.jsx(pe,{users:d,roles:n,stations:a,onSave:te,onCreate:le})]})}),e.jsx(D,{children:e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-6 text-center",children:[e.jsxs(S,{className:"rounded-2xl shadow-md ring-1 ring-slate-100 py-12 flex flex-col items-center justify-center space-y-6 bg-slate-50/50",children:[e.jsx(re,{className:"w-20 h-20 text-slate-300"}),e.jsxs("div",{children:[e.jsx(g,{children:"ÿßŸÑŸÜÿ≥ÿÆ ÿßŸÑÿßÿ≠ÿ™Ÿäÿßÿ∑Ÿä ŸÑŸÑŸÜÿ∏ÿßŸÖ"}),e.jsx(_,{className:"mt-2",children:"ŸÇŸÖ ÿ®ÿ™ÿ≠ŸÖŸäŸÑ ŸÜÿ≥ÿÆÿ© ŸÉÿßŸÖŸÑÿ© ŸÖŸÜ ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÑŸÑÿ≠ŸÅÿßÿ∏ ÿπŸÑŸâ ÿ£ŸÖÿßŸÜ ÿ®ŸäÿßŸÜÿßÿ™ŸÉ"})]}),e.jsxs("a",{href:"/PETRODIESEL2/public/settings/backup",target:"_blank",className:"px-6 py-3 bg-navy-900 text-white font-bold rounded-xl shadow-lg hover:bg-navy-800 transition-all flex items-center gap-2",children:[e.jsx(ce,{className:"w-5 h-5"}),"ÿ™ÿ≠ŸÖŸäŸÑ ŸÜÿ≥ÿÆÿ© ÿßÿ≠ÿ™Ÿäÿßÿ∑Ÿäÿ© (SQL)"]})]}),e.jsxs(S,{className:"rounded-2xl shadow-md ring-1 ring-red-100 py-6 flex flex-col items-center justify-center space-y-4 bg-red-50/50",children:[e.jsx(g,{className:"text-red-700",children:"ŸÖŸÜÿ∑ŸÇÿ© ÿßŸÑÿÆÿ∑ÿ±"}),e.jsx(_,{className:"text-red-600",children:"ÿ•ÿπÿßÿØÿ© ÿ∂ÿ®ÿ∑ ÿßŸÑŸÖÿµŸÜÿπ (ÿ≠ÿ∞ŸÅ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™)"}),e.jsxs("button",{onClick:()=>{confirm("ÿ™ÿ≠ÿ∞Ÿäÿ± ŸáÿßŸÖ: ÿ≥Ÿäÿ™ŸÖ ÿ≠ÿ∞ŸÅ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ®ŸÖÿß ŸÅŸä ÿ∞ŸÑŸÉ ÿßŸÑŸÖÿ®Ÿäÿπÿßÿ™ÿå ÿßŸÑŸÖÿ¥ÿ™ÿ±Ÿäÿßÿ™ÿå ÿßŸÑÿÆÿ≤ÿßŸÜÿßÿ™ÿå ÿßŸÑÿ∑ŸÑŸÖÿ®ÿßÿ™ÿå ÿ£ŸÜŸàÿßÿπ ÿßŸÑŸàŸÇŸàÿØÿå ŸàÿßŸÑÿπŸÖŸÑÿßÿ°! ÿ≥ŸäÿπŸàÿØ ÿßŸÑÿ®ÿ±ŸÜÿßŸÖÿ¨ ŸÑÿ≠ÿßŸÑÿ™Ÿá ÿßŸÑÿ£ÿµŸÑŸäÿ©. ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ™ÿ£ŸÉÿØ ÿ™ŸÖÿßŸÖÿßŸãÿü")&&fetch("/PETRODIESEL2/public/settings/factory_reset",{method:"POST"}).then(s=>s.json()).then(s=>{s.success?(r.success(s.message),setTimeout(()=>window.location.reload(),2e3)):r.error(s.message)})},className:"px-6 py-3 bg-red-600 text-white font-bold rounded-xl shadow-lg hover:bg-red-700 transition-all flex items-center gap-2",children:[e.jsx(P,{className:"w-5 h-5"}),"ÿ•ÿπÿßÿØÿ© ÿ∂ÿ®ÿ∑ ÿßŸÑŸÖÿµŸÜÿπ"]})]})]})})]})]}),e.jsx(je,{isOpen:w,onClose:()=>N(!1),fuel:R,onSave:I})]})}function je({isOpen:f,onClose:C,fuel:b,onSave:n}){const[m,a]=p.useState(""),[d,v]=p.useState(""),[j,o]=p.useState("#64748b");p.useEffect(()=>{b?(a(b.name),v(b.price_per_liter),o(b.color_hex)):(a(""),v(""),o("#64748b"))},[b,f]);const k=h=>{h.preventDefault(),n({id:b==null?void 0:b.id,name:m,price_per_liter:d,color_hex:j}),C()};return f?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",children:e.jsxs(O.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl shadow-xl p-6 w-full max-w-md",children:[e.jsx(g,{className:"mb-4",children:b?"ÿ™ÿπÿØŸäŸÑ ÿßŸÑŸàŸÇŸàÿØ":"ÿ•ÿ∂ÿßŸÅÿ© ŸàŸÇŸàÿØ ÿ¨ÿØŸäÿØ"}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"ÿßÿ≥ŸÖ ÿßŸÑŸàŸÇŸàÿØ"}),e.jsx(y,{value:m,onChange:h=>a(h.target.value),required:!0,placeholder:"ŸÖÿ´ÿßŸÑ: ÿ®ŸÜÿ≤ŸäŸÜ 98"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"ÿßŸÑÿ≥ÿπÿ± (ŸÑŸÉŸÑ ŸÑÿ™ÿ±)"}),e.jsx(y,{type:"number",step:"0.01",value:d,onChange:h=>v(h.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"ŸÑŸàŸÜ ÿßŸÑÿ™ŸÖŸäŸäÿ≤"}),e.jsx("div",{className:"flex gap-2",children:["#64748b","#ef4444","#f97316","#f59e0b","#10b981","#3b82f6","#8b5cf6","#ec4899"].map(h=>e.jsx("button",{type:"button",onClick:()=>o(h),className:`w-8 h-8 rounded-full border-2 ${j===h?"border-navy-900 scale-110":"border-transparent"}`,style:{backgroundColor:h}},h))})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"button",onClick:C,className:"flex-1 py-2 text-slate-500 font-bold hover:bg-slate-100 rounded-lg",children:"ÿ•ŸÑÿ∫ÿßÿ°"}),e.jsx("button",{type:"submit",className:"flex-1 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700",children:"ÿ≠ŸÅÿ∏"})]})]})]})}):null}export{we as default};
