import{j as e,m as j,L as r,g as p,a9 as b,I as c,A as d,K as N,G as f,N as u,t as v,l as w}from"./ui-BNY7rm5N.js";import{r as o}from"./vendor-BdFMDtQB.js";import{A as S,G as y}from"./main-D6GHDm49.js";function D({banks:t=[],pendingRequests:a=[],currency:l="SDG"}){const[_,A]=o.useState(null),[x,n]=o.useState(!1),i=t.reduce((s,g)=>s+parseFloat(g.balance||0),0),m=[{header:"اسم البنك",accessor:"name",render:s=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-white shadow-md ${s.account_scope==="global"?"bg-gradient-to-br from-purple-500 to-purple-700":"bg-gradient-to-br from-indigo-500 to-indigo-700"}`,children:s.account_scope==="global"?e.jsx(f,{className:"w-5 h-5"}):e.jsx("span",{className:"text-sm font-bold",children:s.name.substring(0,2)})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-800",children:s.name}),e.jsx("div",{className:"text-xs text-slate-500 font-mono",children:s.account_number})]})]})},{header:"رقم الحساب",accessor:"account_number",className:"font-mono text-slate-600"},{header:"الرصيد الحالي",accessor:"balance",className:"font-bold text-navy-900",render:s=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"font-mono text-lg",children:parseFloat(s.balance).toLocaleString("en-US",{minimumFractionDigits:2})}),e.jsx("span",{className:"text-xs text-slate-400",children:l})]})},{header:"الحالة",accessor:"status",render:()=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-lg bg-emerald-50 text-emerald-600 text-xs font-bold border border-emerald-100",children:[e.jsx(c,{className:"w-3 h-3"})," نشط"]})}],h=s=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"كشف حساب",children:e.jsx(u,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-slate-600 hover:bg-slate-50 rounded-lg transition-colors",title:"العمليات",children:e.jsx(d,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"حذف",onClick:()=>v.error("الحذف غير متاح حالياً"),children:e.jsx(w,{className:"w-4 h-4"})})]});return e.jsxs(j.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-slate-50/50 p-6 font-cairo",children:[e.jsx(S,{isOpen:x,onClose:()=>n(!1),type:"bank"}),e.jsxs("div",{className:"max-w-[1800px] mx-auto space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-slate-800 flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-indigo-500 to-indigo-700 rounded-2xl text-white shadow-lg shadow-indigo-500/30",children:e.jsx(r,{className:"w-7 h-7"})}),"الأرصدة البنكية"]}),e.jsx("p",{className:"text-slate-500 mt-2 mr-16",children:"إدارة الحسابات البنكية والعمليات المالية"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-indigo-800 rounded-2xl p-6 text-white shadow-xl shadow-indigo-900/20 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-3xl -mr-16 -mt-16"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(p,{className:"w-6 h-6 text-indigo-200"}),e.jsx("span",{className:"text-indigo-200 text-sm font-medium",children:"إجمالي الأرصدة"})]}),e.jsx("div",{className:"text-4xl font-bold font-mono",children:i.toLocaleString("en-US",{minimumFractionDigits:2})}),e.jsx("div",{className:"text-indigo-200 text-xs mt-2",children:l})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-emerald-50 rounded-lg",children:e.jsx(b,{className:"w-5 h-5 text-emerald-600"})}),e.jsx("span",{className:"text-slate-600 text-sm font-medium",children:"عدد البنوك"})]}),e.jsx("div",{className:"text-3xl font-bold text-slate-800",children:t.length}),e.jsxs("div",{className:"text-emerald-600 text-xs mt-2 flex items-center gap-1",children:[e.jsx(c,{className:"w-3 h-3"}),"نشط"]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(d,{className:"w-5 h-5 text-blue-600"})}),e.jsx("span",{className:"text-slate-600 text-sm font-medium",children:"العمليات اليوم"})]}),e.jsx("div",{className:"text-3xl font-bold text-slate-800",children:"0"}),e.jsx("div",{className:"text-slate-400 text-xs mt-2",children:"لا توجد عمليات"})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:e.jsx(N,{className:"w-5 h-5 text-purple-600"})}),e.jsx("span",{className:"text-slate-600 text-sm font-medium",children:"متوسط الرصيد"})]}),e.jsx("div",{className:"text-3xl font-bold text-slate-800",children:t.length>0?(i/t.length).toLocaleString("en-US",{maximumFractionDigits:0}):0}),e.jsx("div",{className:"text-slate-400 text-xs mt-2",children:l})]})]})]}),a&&a.length>0&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-6 shadow-sm",children:[e.jsxs("h2",{className:"text-xl font-bold text-red-800 mb-4 flex items-center gap-2",children:[e.jsx(d,{className:"w-6 h-6 animate-pulse"}),"عمليات تحويل معلقة (بانتظار موافقة الإدارة)"]}),e.jsx("div",{className:"grid gap-3",children:a.map(s=>e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-red-100 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-red-100 text-red-600 rounded-full",children:e.jsx(r,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-800 text-lg",children:"تحويل إلى خزينة/بنك عالمي"}),e.jsxs("div",{className:"text-sm text-slate-500 flex items-center gap-2",children:[e.jsxs("span",{children:["من: ",e.jsx("span",{className:"font-semibold text-slate-700",children:s.from_bank_name})]}),e.jsx("span",{className:"text-slate-300",children:"|"}),e.jsxs("span",{children:["إلى: ",e.jsx("span",{className:"font-semibold text-slate-700",children:s.to_safe_name||s.to_bank_name})]})]})]})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsxs("div",{className:"text-2xl font-black text-red-600 font-mono",children:["-",parseFloat(s.amount).toLocaleString("en-US",{minimumFractionDigits:2})]}),e.jsx("div",{className:"text-xs font-bold text-red-400 bg-red-50 px-2 py-1 rounded-md",children:"معلق (Suspended)"})]})]},s.id))})]}),e.jsx(y,{title:"قائمة البنوك",subtitle:"عرض تفصيلي للحسابات البنكية",data:t,columns:m,actions:h,onAdd:()=>n(!0),addButtonLabel:"إضافة بنك جديد",searchPlaceholder:"بحث عن بنك...",exportName:"banks"})]})]})}export{D as default};
