import{j as e,a2 as x,X as g,ag as f,h as j,t as n}from"./ui-DtuMUTb1.js";import{r as h}from"./vendor-BdFMDtQB.js";import{n as w,d as v}from"./main-CLVC6oQV.js";function S({isOpen:m,onClose:t,onSuccess:p}){const[a,i]=h.useState({name:"",phone:""}),[o,d]=h.useState(!1),c=r=>{const{name:l,value:s}=r.target;i(b=>({...b,[l]:s}))},u=async r=>{r.preventDefault(),d(!0);try{const s=await(await fetch("/PETRODIESEL2/public/suppliers/api_create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json();s.success?(n.success("تم إضافة المورد بنجاح"),p(),t(),i({name:"",phone:""})):n.error(s.message||"حدث خطأ أثناء الإضافة")}catch{n.error("فشل الاتصال بالخادم")}finally{d(!1)}};return e.jsx(w,{open:m,onClose:t,static:!0,className:"z-[100]",children:e.jsxs(v,{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl ring-1 ring-slate-900/5 p-0 overflow-hidden dark:bg-[#1e293b] dark:ring-white/10 dark:shadow-none",children:[e.jsxs("div",{className:"bg-slate-50 border-b border-slate-100 p-6 flex justify-between items-center dark:bg-white/5 dark:border-white/10",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2 dark:text-white",children:[e.jsx(x,{className:"w-5 h-5 text-navy-900 dark:text-blue-400"}),"إضافة مورد جديد"]}),e.jsx("p",{className:"text-slate-500 text-sm dark:text-slate-400",children:"أدخل بيانات الشركة أو المورد"})]}),e.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-200 rounded-full transition-colors text-slate-500 dark:hover:bg-white/10 dark:text-slate-400",children:e.jsx(g,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:u,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"اسم المورد / الشركة"}),e.jsxs("div",{className:"relative",children:[e.jsx(x,{className:"absolute right-3 top-3 text-slate-400 w-5 h-5"}),e.jsx("input",{type:"text",name:"name",value:a.name,onChange:c,placeholder:"اسم المورد",className:"w-full pr-10 pl-4 py-2 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-navy-500 transition-all dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:placeholder-slate-500",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"رقم الهاتف"}),e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute right-3 top-3 text-slate-400 w-5 h-5"}),e.jsx("input",{type:"text",name:"phone",value:a.phone,onChange:c,placeholder:"05xxxxxxxx",className:"w-full pr-10 pl-4 py-2 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-navy-500 transition-all dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:placeholder-slate-500"})]})]}),e.jsxs("div",{className:"flex justify-end pt-4",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-50 rounded-lg transition-colors ml-2 dark:text-slate-400 dark:hover:bg-white/5",children:"إلغاء"}),e.jsx("button",{type:"submit",disabled:o,className:"px-6 py-2 text-sm font-bold text-white bg-navy-900 hover:bg-navy-800 rounded-lg shadow-lg hover:shadow-xl transition-all flex items-center gap-2",children:o?"جاري الحفظ...":e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"w-4 h-4"}),"حفظ"]})})]})]})]})})}export{S as A};
